/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/(payload)/api/[...slug]/route";
exports.ids = ["app/(payload)/api/[...slug]/route"];
exports.modules = {

/***/ "@aws-sdk/client-s3":
/*!*************************************!*\
  !*** external "@aws-sdk/client-s3" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@aws-sdk/client-s3");

/***/ }),

/***/ "graphql":
/*!**************************!*\
  !*** external "graphql" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql");

/***/ }),

/***/ "graphql/execution/values.js":
/*!**********************************************!*\
  !*** external "graphql/execution/values.js" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql/execution/values.js");

/***/ }),

/***/ "graphql/language/index.js":
/*!********************************************!*\
  !*** external "graphql/language/index.js" ***!
  \********************************************/
/***/ ((module) => {

"use strict";
module.exports = require("graphql/language/index.js");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "pino":
/*!***********************!*\
  !*** external "pino" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("pino");

/***/ }),

/***/ "pino-pretty":
/*!******************************!*\
  !*** external "pino-pretty" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("pino-pretty");

/***/ }),

/***/ "sharp":
/*!************************!*\
  !*** external "sharp" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("sharp");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("process");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "readline":
/*!***************************!*\
  !*** external "readline" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("readline");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "next/dist/compiled/@vercel/og/index.node.js":
/*!**************************************************************!*\
  !*** external "next/dist/compiled/@vercel/og/index.node.js" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = import("next/dist/compiled/@vercel/og/index.node.js");;

/***/ }),

/***/ "node:assert":
/*!******************************!*\
  !*** external "node:assert" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:assert");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:async_hooks");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:fs/promises":
/*!***********************************!*\
  !*** external "node:fs/promises" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs/promises");

/***/ }),

/***/ "node:module":
/*!******************************!*\
  !*** external "node:module" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:module");

/***/ }),

/***/ "node:os":
/*!**************************!*\
  !*** external "node:os" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:os");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_anthony_Desktop_payload_order_management_system_src_app_payload_api_slug_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/(payload)/api/[...slug]/route.ts */ \"(rsc)/./src/app/(payload)/api/[...slug]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/(payload)/api/[...slug]/route\",\n        pathname: \"/api/[...slug]\",\n        filename: \"route\",\n        bundlePath: \"app/(payload)/api/[...slug]/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\anthony\\\\Desktop\\\\payload\\\\order-management-system\\\\src\\\\app\\\\(payload)\\\\api\\\\[...slug]\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_anthony_Desktop_payload_order_management_system_src_app_payload_api_slug_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkYocGF5bG9hZCklMkZhcGklMkYlNUIuLi5zbHVnJTVEJTJGcm91dGUmcGFnZT0lMkYocGF5bG9hZCklMkZhcGklMkYlNUIuLi5zbHVnJTVEJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGKHBheWxvYWQpJTJGYXBpJTJGJTVCLi4uc2x1ZyU1RCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhbnRob255JTVDRGVza3RvcCU1Q3BheWxvYWQlNUNvcmRlci1tYW5hZ2VtZW50LXN5c3RlbSU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDYW50aG9ueSU1Q0Rlc2t0b3AlNUNwYXlsb2FkJTVDb3JkZXItbWFuYWdlbWVudC1zeXN0ZW0maXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQzREO0FBQ3pJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLz84ZjliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxhbnRob255XFxcXERlc2t0b3BcXFxccGF5bG9hZFxcXFxvcmRlci1tYW5hZ2VtZW50LXN5c3RlbVxcXFxzcmNcXFxcYXBwXFxcXChwYXlsb2FkKVxcXFxhcGlcXFxcWy4uLnNsdWddXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiLyhwYXlsb2FkKS9hcGkvWy4uLnNsdWddL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvWy4uLnNsdWddXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwLyhwYXlsb2FkKS9hcGkvWy4uLnNsdWddL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYW50aG9ueVxcXFxEZXNrdG9wXFxcXHBheWxvYWRcXFxcb3JkZXItbWFuYWdlbWVudC1zeXN0ZW1cXFxcc3JjXFxcXGFwcFxcXFwocGF5bG9hZClcXFxcYXBpXFxcXFsuLi5zbHVnXVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Canthony%5C%5CDesktop%5C%5Cpayload%5C%5Corder-management-system%5C%5Cnode_modules%5C%5C%40payloadcms%5C%5Cnext%5C%5Cdist%5C%5Cprod%5C%5Cstyles.css%22%2C%22ids%22%3A%5B%5D%7D&server=true!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22C%3A%5C%5CUsers%5C%5Canthony%5C%5CDesktop%5C%5Cpayload%5C%5Corder-management-system%5C%5Cnode_modules%5C%5C%40payloadcms%5C%5Cnext%5C%5Cdist%5C%5Cprod%5C%5Cstyles.css%22%2C%22ids%22%3A%5B%5D%7D&server=true! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/(payload)/api/[...slug]/route.ts":
/*!**************************************************!*\
  !*** ./src/app/(payload)/api/[...slug]/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   OPTIONS: () => (/* binding */ OPTIONS),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var _payload_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payload-config */ \"(rsc)/./src/payload.config.ts\");\n/* harmony import */ var _payloadcms_next_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @payloadcms/next/css */ \"(rsc)/./node_modules/@payloadcms/next/dist/prod/styles.css\");\n/* harmony import */ var _payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @payloadcms/next/routes */ \"(rsc)/./node_modules/@payloadcms/next/dist/exports/routes.js\");\n/* THIS FILE WAS GENERATED AUTOMATICALLY BY PAYLOAD. */ /* DO NOT MODIFY IT BECAUSE IT COULD BE REWRITTEN AT ANY TIME. */ \n\n\nconst GET = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_GET)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst POST = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_POST)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst DELETE = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_DELETE)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst PATCH = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_PATCH)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst PUT = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_PUT)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\nconst OPTIONS = (0,_payloadcms_next_routes__WEBPACK_IMPORTED_MODULE_2__.REST_OPTIONS)(_payload_config__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwLyhwYXlsb2FkKS9hcGkvWy4uLnNsdWddL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLHFEQUFxRCxHQUNyRCwrREFBK0QsR0FDM0I7QUFDUDtBQVFHO0FBRXpCLE1BQU1PLE1BQU1MLGlFQUFRQSxDQUFDRix1REFBTUEsRUFBQztBQUM1QixNQUFNUSxPQUFPSCxrRUFBU0EsQ0FBQ0wsdURBQU1BLEVBQUM7QUFDOUIsTUFBTVMsU0FBU1Isb0VBQVdBLENBQUNELHVEQUFNQSxFQUFDO0FBQ2xDLE1BQU1VLFFBQVFOLG1FQUFVQSxDQUFDSix1REFBTUEsRUFBQztBQUNoQyxNQUFNVyxNQUFNTCxpRUFBUUEsQ0FBQ04sdURBQU1BLEVBQUM7QUFDNUIsTUFBTVksVUFBVVQscUVBQVlBLENBQUNILHVEQUFNQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JkZXItbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvYXBwLyhwYXlsb2FkKS9hcGkvWy4uLnNsdWddL3JvdXRlLnRzP2ZjOWEiXSwic291cmNlc0NvbnRlbnQiOlsiLyogVEhJUyBGSUxFIFdBUyBHRU5FUkFURUQgQVVUT01BVElDQUxMWSBCWSBQQVlMT0FELiAqL1xuLyogRE8gTk9UIE1PRElGWSBJVCBCRUNBVVNFIElUIENPVUxEIEJFIFJFV1JJVFRFTiBBVCBBTlkgVElNRS4gKi9cbmltcG9ydCBjb25maWcgZnJvbSAnQHBheWxvYWQtY29uZmlnJ1xuaW1wb3J0ICdAcGF5bG9hZGNtcy9uZXh0L2NzcydcbmltcG9ydCB7XG4gIFJFU1RfREVMRVRFLFxuICBSRVNUX0dFVCxcbiAgUkVTVF9PUFRJT05TLFxuICBSRVNUX1BBVENILFxuICBSRVNUX1BPU1QsXG4gIFJFU1RfUFVULFxufSBmcm9tICdAcGF5bG9hZGNtcy9uZXh0L3JvdXRlcydcblxuZXhwb3J0IGNvbnN0IEdFVCA9IFJFU1RfR0VUKGNvbmZpZylcbmV4cG9ydCBjb25zdCBQT1NUID0gUkVTVF9QT1NUKGNvbmZpZylcbmV4cG9ydCBjb25zdCBERUxFVEUgPSBSRVNUX0RFTEVURShjb25maWcpXG5leHBvcnQgY29uc3QgUEFUQ0ggPSBSRVNUX1BBVENIKGNvbmZpZylcbmV4cG9ydCBjb25zdCBQVVQgPSBSRVNUX1BVVChjb25maWcpXG5leHBvcnQgY29uc3QgT1BUSU9OUyA9IFJFU1RfT1BUSU9OUyhjb25maWcpXG4iXSwibmFtZXMiOlsiY29uZmlnIiwiUkVTVF9ERUxFVEUiLCJSRVNUX0dFVCIsIlJFU1RfT1BUSU9OUyIsIlJFU1RfUEFUQ0giLCJSRVNUX1BPU1QiLCJSRVNUX1BVVCIsIkdFVCIsIlBPU1QiLCJERUxFVEUiLCJQQVRDSCIsIlBVVCIsIk9QVElPTlMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/(payload)/api/[...slug]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Customers.ts":
/*!**************************************!*\
  !*** ./src/collections/Customers.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Customers: () => (/* binding */ Customers)\n/* harmony export */ });\nconst Customers = {\n    slug: 'customers',\n    admin: {\n        useAsTitle: 'name',\n        defaultColumns: [\n            'customerCode',\n            'name',\n            'contactPerson',\n            'phone',\n            'isActive'\n        ]\n    },\n    fields: [\n        {\n            name: 'customerCode',\n            type: 'text',\n            unique: true,\n            label: '客戶編號',\n            admin: {\n                readOnly: true,\n                description: '系統自動生成'\n            }\n        },\n        {\n            name: 'name',\n            type: 'text',\n            required: true,\n            label: '客戶名稱'\n        },\n        {\n            name: 'contactPerson',\n            type: 'text',\n            label: '聯絡人'\n        },\n        {\n            name: 'phone',\n            type: 'text',\n            label: '電話'\n        },\n        {\n            name: 'email',\n            type: 'email',\n            label: '電子郵件'\n        },\n        {\n            name: 'address',\n            type: 'textarea',\n            label: '地址'\n        },\n        {\n            name: 'taxId',\n            type: 'text',\n            label: '統一編號'\n        },\n        {\n            name: 'notes',\n            type: 'textarea',\n            label: '備註'\n        },\n        {\n            name: 'isActive',\n            type: 'checkbox',\n            defaultValue: true,\n            label: '是否啟用'\n        },\n        {\n            name: 'createdBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '建立者',\n            admin: {\n                readOnly: true\n            }\n        }\n    ],\n    hooks: {\n        beforeChange: [\n            async ({ data, req, operation })=>{\n                // 自動設定建立者\n                if (operation === 'create') {\n                    if (req.user) {\n                        data.createdBy = req.user.id;\n                    }\n                    // 生成客戶編號\n                    if (!data.customerCode) {\n                        // 查詢最後一個客戶編號\n                        const { docs } = await req.payload.find({\n                            collection: 'customers',\n                            sort: '-customerCode',\n                            limit: 1\n                        });\n                        let nextNumber = 1;\n                        if (docs.length > 0 && docs[0].customerCode) {\n                            const lastCode = docs[0].customerCode;\n                            const match = lastCode.match(/CUS-(\\d+)/);\n                            if (match) {\n                                nextNumber = parseInt(match[1]) + 1;\n                            }\n                        }\n                        data.customerCode = `CUS-${String(nextNumber).padStart(4, '0')}`;\n                    }\n                }\n                return data;\n            }\n        ]\n    },\n    access: {\n        // Admin 和 Manager 可以建立\n        create: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff'\n            ].includes(user?.role);\n        },\n        // Admin, Manager, Staff 可以讀取\n        read: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff',\n                'viewer'\n            ].includes(user?.role);\n        },\n        // Admin 和 Manager 可以更新\n        update: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff'\n            ].includes(user?.role);\n        },\n        // 只有 Admin 可以刪除\n        delete: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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USxDQUFDbUIsUUFBUSxDQUFDbkIsTUFBTW9CO1FBQ3hEO1FBQ0EsZ0JBQWdCO1FBQ2hCRyxRQUFRLENBQUMsRUFBRXpCLEtBQUssRUFBRUUsSUFBSSxFQUFFLEVBQUU7WUFDdEIsT0FBT0EsTUFBTW9CLFNBQVM7UUFDMUI7SUFDSjtBQUNKLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmRlci1tYW5hZ2VtZW50LXN5c3RlbS8uL3NyYy9jb2xsZWN0aW9ucy9DdXN0b21lcnMudHM/Nzc2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbGxlY3Rpb25Db25maWcgfSBmcm9tICdwYXlsb2FkJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEN1c3RvbWVyczogQ29sbGVjdGlvbkNvbmZpZyA9IHtcclxuICAgIHNsdWc6ICdjdXN0b21lcnMnLFxyXG4gICAgYWRtaW46IHtcclxuICAgICAgICB1c2VBc1RpdGxlOiAnbmFtZScsXHJcbiAgICAgICAgZGVmYXVsdENvbHVtbnM6IFsnY3VzdG9tZXJDb2RlJywgJ25hbWUnLCAnY29udGFjdFBlcnNvbicsICdwaG9uZScsICdpc0FjdGl2ZSddLFxyXG4gICAgfSxcclxuICAgIGZpZWxkczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2N1c3RvbWVyQ29kZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+WuouaItue3qOiZnycsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn57O757Wx6Ieq5YuV55Sf5oiQJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+WuouaItuWQjeeosScsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdjb250YWN0UGVyc29uJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+iBr+e1oeS6uicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwaG9uZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgICAgbGFiZWw6ICfpm7voqbEnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnZW1haWwnLFxyXG4gICAgICAgICAgICB0eXBlOiAnZW1haWwnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+mbu+WtkOmDteS7ticsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdhZGRyZXNzJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICAgICAgbGFiZWw6ICflnLDlnYAnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAndGF4SWQnLFxyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn57Wx5LiA57eo6JmfJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ25vdGVzJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICAgICAgbGFiZWw6ICflgpnoqLsnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnaXNBY3RpdmUnLFxyXG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5piv5ZCm5ZWf55SoJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2NyZWF0ZWRCeScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxyXG4gICAgICAgICAgICByZWxhdGlvblRvOiAndXNlcnMnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+W7uueri+iAhScsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIGhvb2tzOiB7XHJcbiAgICAgICAgYmVmb3JlQ2hhbmdlOiBbXHJcbiAgICAgICAgICAgIGFzeW5jICh7IGRhdGEsIHJlcSwgb3BlcmF0aW9uIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOiHquWLleioreWumuW7uueri+iAhVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2NyZWF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVxLnVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5jcmVhdGVkQnkgPSByZXEudXNlci5pZFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyDnlJ/miJDlrqLmiLbnt6jomZ9cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuY3VzdG9tZXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOafpeipouacgOW+jOS4gOWAi+WuouaItue3qOiZn1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGRvY3MgfSA9IGF3YWl0IHJlcS5wYXlsb2FkLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogJ2N1c3RvbWVycycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0OiAnLWN1c3RvbWVyQ29kZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0TnVtYmVyID0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jcy5sZW5ndGggPiAwICYmIGRvY3NbMF0uY3VzdG9tZXJDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0Q29kZSA9IGRvY3NbMF0uY3VzdG9tZXJDb2RlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3RDb2RlLm1hdGNoKC9DVVMtKFxcZCspLylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROdW1iZXIgPSBwYXJzZUludChtYXRjaFsxXSkgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuY3VzdG9tZXJDb2RlID0gYENVUy0ke1N0cmluZyhuZXh0TnVtYmVyKS5wYWRTdGFydCg0LCAnMCcpfWBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgYWNjZXNzOiB7XHJcbiAgICAgICAgLy8gQWRtaW4g5ZKMIE1hbmFnZXIg5Y+v5Lul5bu656uLXHJcbiAgICAgICAgY3JlYXRlOiAoeyByZXE6IHsgdXNlciB9IH0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnYWRtaW4nLCAnbWFuYWdlcicsICdzdGFmZiddLmluY2x1ZGVzKHVzZXI/LnJvbGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBBZG1pbiwgTWFuYWdlciwgU3RhZmYg5Y+v5Lul6K6A5Y+WXHJcbiAgICAgICAgcmVhZDogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInLCAnc3RhZmYnLCAndmlld2VyJ10uaW5jbHVkZXModXNlcj8ucm9sZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEFkbWluIOWSjCBNYW5hZ2VyIOWPr+S7peabtOaWsFxyXG4gICAgICAgIHVwZGF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInLCAnc3RhZmYnXS5pbmNsdWRlcyh1c2VyPy5yb2xlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g5Y+q5pyJIEFkbWluIOWPr+S7peWIqumZpFxyXG4gICAgICAgIGRlbGV0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyPy5yb2xlID09PSAnYWRtaW4nXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn1cclxuIl0sIm5hbWVzIjpbIkN1c3RvbWVycyIsInNsdWciLCJhZG1pbiIsInVzZUFzVGl0bGUiLCJkZWZhdWx0Q29sdW1ucyIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwidW5pcXVlIiwibGFiZWwiLCJyZWFkT25seSIsImRlc2NyaXB0aW9uIiwicmVxdWlyZWQiLCJkZWZhdWx0VmFsdWUiLCJyZWxhdGlvblRvIiwiaG9va3MiLCJiZWZvcmVDaGFuZ2UiLCJkYXRhIiwicmVxIiwib3BlcmF0aW9uIiwidXNlciIsImNyZWF0ZWRCeSIsImlkIiwiY3VzdG9tZXJDb2RlIiwiZG9jcyIsInBheWxvYWQiLCJmaW5kIiwiY29sbGVjdGlvbiIsInNvcnQiLCJsaW1pdCIsIm5leHROdW1iZXIiLCJsZW5ndGgiLCJsYXN0Q29kZSIsIm1hdGNoIiwicGFyc2VJbnQiLCJTdHJpbmciLCJwYWRTdGFydCIsImFjY2VzcyIsImNyZWF0ZSIsImluY2x1ZGVzIiwicm9sZSIsInJlYWQiLCJ1cGRhdGUiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Customers.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Media.ts":
/*!**********************************!*\
  !*** ./src/collections/Media.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Media: () => (/* binding */ Media)\n/* harmony export */ });\nconst Media = {\n    slug: 'media',\n    access: {\n        read: ()=>true\n    },\n    fields: [\n        {\n            name: 'alt',\n            type: 'text',\n            required: true\n        }\n    ],\n    upload: true\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvTWVkaWEudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU1BLFFBQTBCO0lBQ3JDQyxNQUFNO0lBQ05DLFFBQVE7UUFDTkMsTUFBTSxJQUFNO0lBQ2Q7SUFDQUMsUUFBUTtRQUNOO1lBQ0VDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1FBQ1o7S0FDRDtJQUNEQyxRQUFRO0FBQ1YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL2NvbGxlY3Rpb25zL01lZGlhLnRzP2FkYTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcblxuZXhwb3J0IGNvbnN0IE1lZGlhOiBDb2xsZWN0aW9uQ29uZmlnID0ge1xuICBzbHVnOiAnbWVkaWEnLFxuICBhY2Nlc3M6IHtcbiAgICByZWFkOiAoKSA9PiB0cnVlLFxuICB9LFxuICBmaWVsZHM6IFtcbiAgICB7XG4gICAgICBuYW1lOiAnYWx0JyxcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gIF0sXG4gIHVwbG9hZDogdHJ1ZSxcbn1cbiJdLCJuYW1lcyI6WyJNZWRpYSIsInNsdWciLCJhY2Nlc3MiLCJyZWFkIiwiZmllbGRzIiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsInVwbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Media.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Orders.ts":
/*!***********************************!*\
  !*** ./src/collections/Orders.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Orders: () => (/* binding */ Orders)\n/* harmony export */ });\nconst Orders = {\n    slug: 'orders',\n    admin: {\n        useAsTitle: 'orderNumber',\n        defaultColumns: [\n            'orderNumber',\n            'customer',\n            'orderDate',\n            'status',\n            'finalAmount'\n        ]\n    },\n    fields: [\n        {\n            name: 'orderNumber',\n            type: 'text',\n            unique: true,\n            label: '訂單編號',\n            admin: {\n                readOnly: true,\n                description: '系統自動生成,格式: ORD-YYYYMMDD-XXXX'\n            }\n        },\n        {\n            name: 'customer',\n            type: 'relationship',\n            relationTo: 'customers',\n            required: true,\n            label: '客戶'\n        },\n        {\n            name: 'orderDate',\n            type: 'date',\n            required: true,\n            defaultValue: ()=>new Date().toISOString(),\n            label: '訂單日期'\n        },\n        {\n            name: 'status',\n            type: 'select',\n            required: true,\n            defaultValue: 'pending',\n            label: '訂單狀態',\n            options: [\n                {\n                    label: '待確認',\n                    value: 'pending'\n                },\n                {\n                    label: '已確認',\n                    value: 'confirmed'\n                },\n                {\n                    label: '處理中',\n                    value: 'processing'\n                },\n                {\n                    label: '已出貨',\n                    value: 'shipped'\n                },\n                {\n                    label: '已完成',\n                    value: 'completed'\n                },\n                {\n                    label: '已取消',\n                    value: 'cancelled'\n                }\n            ]\n        },\n        {\n            name: 'items',\n            type: 'array',\n            required: true,\n            minRows: 1,\n            label: '訂單項目',\n            fields: [\n                {\n                    name: 'product',\n                    type: 'relationship',\n                    relationTo: 'products',\n                    required: true,\n                    label: '商品'\n                },\n                {\n                    name: 'quantity',\n                    type: 'number',\n                    required: true,\n                    min: 1,\n                    defaultValue: 1,\n                    label: '數量'\n                },\n                {\n                    name: 'unitPrice',\n                    type: 'number',\n                    required: true,\n                    min: 0,\n                    label: '單價',\n                    admin: {\n                        description: '會自動帶入商品價格,也可手動修改'\n                    }\n                },\n                {\n                    name: 'subtotal',\n                    type: 'number',\n                    required: true,\n                    min: 0,\n                    label: '小計',\n                    admin: {\n                        readOnly: true,\n                        description: '自動計算 = 數量 × 單價'\n                    }\n                },\n                {\n                    name: 'notes',\n                    type: 'textarea',\n                    label: '備註'\n                }\n            ]\n        },\n        {\n            name: 'totalAmount',\n            type: 'number',\n            required: true,\n            defaultValue: 0,\n            min: 0,\n            label: '總金額',\n            admin: {\n                readOnly: true,\n                description: '自動計算所有項目小計總和'\n            }\n        },\n        {\n            name: 'discount',\n            type: 'number',\n            defaultValue: 0,\n            min: 0,\n            label: '折扣'\n        },\n        {\n            name: 'finalAmount',\n            type: 'number',\n            required: true,\n            defaultValue: 0,\n            min: 0,\n            label: '最終金額',\n            admin: {\n                readOnly: true,\n                description: '自動計算 = 總金額 - 折扣'\n            }\n        },\n        {\n            name: 'notes',\n            type: 'textarea',\n            label: '備註'\n        },\n        {\n            name: 'shippingAddress',\n            type: 'textarea',\n            label: '配送地址'\n        },\n        {\n            name: 'paymentStatus',\n            type: 'select',\n            required: true,\n            defaultValue: 'unpaid',\n            label: '付款狀態',\n            options: [\n                {\n                    label: '未付款',\n                    value: 'unpaid'\n                },\n                {\n                    label: '部分付款',\n                    value: 'partial'\n                },\n                {\n                    label: '已付款',\n                    value: 'paid'\n                }\n            ]\n        },\n        {\n            name: 'paymentMethod',\n            type: 'select',\n            label: '付款方式',\n            options: [\n                {\n                    label: '現金',\n                    value: 'cash'\n                },\n                {\n                    label: '轉帳',\n                    value: 'transfer'\n                },\n                {\n                    label: '信用卡',\n                    value: 'credit_card'\n                },\n                {\n                    label: '其他',\n                    value: 'other'\n                }\n            ]\n        },\n        {\n            name: 'createdBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '建立者',\n            admin: {\n                readOnly: true\n            }\n        },\n        {\n            name: 'updatedBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '最後更新者',\n            admin: {\n                readOnly: true\n            }\n        }\n    ],\n    hooks: {\n        beforeChange: [\n            async ({ data, req, operation, originalDoc })=>{\n                // 生成訂單編號\n                if (operation === 'create' && !data.orderNumber) {\n                    const now = new Date();\n                    const dateStr = now.toISOString().slice(0, 10).replace(/-/g, '');\n                    // 查詢今天的最後一個訂單編號\n                    const { docs } = await req.payload.find({\n                        collection: 'orders',\n                        where: {\n                            orderNumber: {\n                                like: `ORD-${dateStr}`\n                            }\n                        },\n                        sort: '-orderNumber',\n                        limit: 1\n                    });\n                    let nextNumber = 1;\n                    if (docs.length > 0 && docs[0].orderNumber) {\n                        const lastNumber = docs[0].orderNumber;\n                        const match = lastNumber.match(/-(\\d+)$/);\n                        if (match) {\n                            nextNumber = parseInt(match[1]) + 1;\n                        }\n                    }\n                    data.orderNumber = `ORD-${dateStr}-${String(nextNumber).padStart(4, '0')}`;\n                }\n                // 自動設定建立者和更新者\n                if (operation === 'create' && req.user) {\n                    data.createdBy = req.user.id;\n                    data.updatedBy = req.user.id;\n                } else if (operation === 'update' && req.user) {\n                    data.updatedBy = req.user.id;\n                }\n                // 計算每個項目的小計\n                if (data.items && Array.isArray(data.items)) {\n                    data.items = await Promise.all(data.items.map(async (item)=>{\n                        // 如果沒有設定單價,從商品取得\n                        if (!item.unitPrice && item.product) {\n                            const productId = typeof item.product === 'string' ? item.product : item.product.id;\n                            const product = await req.payload.findByID({\n                                collection: 'products',\n                                id: productId\n                            });\n                            item.unitPrice = product.price;\n                        }\n                        // 計算小計\n                        item.subtotal = (item.quantity || 0) * (item.unitPrice || 0);\n                        return item;\n                    }));\n                    // 計算總金額\n                    data.totalAmount = data.items.reduce((sum, item)=>sum + (item.subtotal || 0), 0);\n                    // 計算最終金額\n                    data.finalAmount = data.totalAmount - (data.discount || 0);\n                }\n                // 當訂單狀態變更為 confirmed 時扣減庫存\n                if (operation === 'update' && data.status === 'confirmed' && originalDoc.status !== 'confirmed') {\n                    for (const item of data.items){\n                        const productId = typeof item.product === 'string' ? item.product : item.product.id;\n                        const product = await req.payload.findByID({\n                            collection: 'products',\n                            id: productId\n                        });\n                        // 扣減庫存\n                        await req.payload.update({\n                            collection: 'products',\n                            id: productId,\n                            data: {\n                                stock: product.stock - item.quantity\n                            }\n                        });\n                    }\n                }\n                // 當訂單從 confirmed 取消時,恢復庫存\n                if (operation === 'update' && data.status === 'cancelled' && originalDoc.status === 'confirmed') {\n                    for (const item of originalDoc.items){\n                        const productId = typeof item.product === 'string' ? item.product : item.product.id;\n                        const product = await req.payload.findByID({\n                            collection: 'products',\n                            id: productId\n                        });\n                        // 恢復庫存\n                        await req.payload.update({\n                            collection: 'products',\n                            id: productId,\n                            data: {\n                                stock: product.stock + item.quantity\n                            }\n                        });\n                    }\n                }\n                return data;\n            }\n        ]\n    },\n    access: {\n        // Admin, Manager, Staff 可以建立\n        create: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff'\n            ].includes(user?.role);\n        },\n        // 根據角色控制讀取權限\n        read: ({ req: { user } })=>{\n            if ([\n                'admin',\n                'manager'\n            ].includes(user?.role)) {\n                return true // 可以查看所有訂單\n                ;\n            }\n            if (user?.role === 'staff') {\n                // Staff 只能查看自己建立的訂單\n                return {\n                    createdBy: {\n                        equals: user.id\n                    }\n                };\n            }\n            if (user?.role === 'viewer') {\n                return true // Viewer 可以查看所有訂單\n                ;\n            }\n            return false;\n        },\n        // 根據角色控制更新權限\n        update: ({ req: { user } })=>{\n            if ([\n                'admin',\n                'manager'\n            ].includes(user?.role)) {\n                return true // 可以更新所有訂單\n                ;\n            }\n            if (user?.role === 'staff') {\n                // Staff 只能更新自己建立的訂單\n                return {\n                    createdBy: {\n                        equals: user.id\n                    }\n                };\n            }\n            return false;\n        },\n        // 只有 Admin 可以刪除\n        delete: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQUFJLEVBQUUsRUFBRTtZQUN0QixJQUFJO2dCQUFDO2dCQUFTO2FBQVUsQ0FBQzRCLFFBQVEsQ0FBQzVCLE1BQU02QixPQUFPO2dCQUMzQyxPQUFPLEtBQUssV0FBVzs7WUFDM0I7WUFDQSxJQUFJN0IsTUFBTTZCLFNBQVMsU0FBUztnQkFDeEIsb0JBQW9CO2dCQUNwQixPQUFPO29CQUNINUIsV0FBVzt3QkFDUDhCLFFBQVEvQixLQUFLRSxFQUFFO29CQUNuQjtnQkFDSjtZQUNKO1lBQ0EsT0FBTztRQUNYO1FBQ0EsZ0JBQWdCO1FBQ2hCOEIsUUFBUSxDQUFDLEVBQUV2RCxLQUFLLEVBQUV1QixJQUFJLEVBQUUsRUFBRTtZQUN0QixPQUFPQSxNQUFNNkIsU0FBUztRQUMxQjtJQUNKO0FBQ0osRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL2NvbGxlY3Rpb25zL09yZGVycy50cz81YjRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgQ29sbGVjdGlvbkNvbmZpZyB9IGZyb20gJ3BheWxvYWQnXHJcblxyXG5leHBvcnQgY29uc3QgT3JkZXJzOiBDb2xsZWN0aW9uQ29uZmlnID0ge1xyXG4gICAgc2x1ZzogJ29yZGVycycsXHJcbiAgICBhZG1pbjoge1xyXG4gICAgICAgIHVzZUFzVGl0bGU6ICdvcmRlck51bWJlcicsXHJcbiAgICAgICAgZGVmYXVsdENvbHVtbnM6IFsnb3JkZXJOdW1iZXInLCAnY3VzdG9tZXInLCAnb3JkZXJEYXRlJywgJ3N0YXR1cycsICdmaW5hbEFtb3VudCddLFxyXG4gICAgfSxcclxuICAgIGZpZWxkczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ29yZGVyTnVtYmVyJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxyXG4gICAgICAgICAgICB1bmlxdWU6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn6KiC5Zau57eo6JmfJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfns7vntbHoh6rli5XnlJ/miJAs5qC85byPOiBPUkQtWVlZWU1NREQtWFhYWCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdjdXN0b21lcicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxyXG4gICAgICAgICAgICByZWxhdGlvblRvOiAnY3VzdG9tZXJzJyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5a6i5oi2JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ29yZGVyRGF0ZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogKCkgPT4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+ioguWWruaXpeacnycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzdGF0dXMnLFxyXG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogJ3BlbmRpbmcnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+ioguWWrueLgOaFiycsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+W+heeiuuiqjScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdwZW5kaW5nJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflt7Lnorroqo0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnY29uZmlybWVkJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfomZXnkIbkuK0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAncHJvY2Vzc2luZycsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5bey5Ye66LKoJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3NoaXBwZWQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+W3suWujOaIkCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdjb21wbGV0ZWQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+W3suWPlua2iCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdjYW5jZWxsZWQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2l0ZW1zJyxcclxuICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIG1pblJvd3M6IDEsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn6KiC5Zau6aCF55uuJyxcclxuICAgICAgICAgICAgZmllbGRzOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Byb2R1Y3QnLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVG86ICdwcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfllYblk4EnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAncXVhbnRpdHknLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbjogMSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfmlbjph48nLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAndW5pdFByaWNlJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfllq7lg7knLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn5pyD6Ieq5YuV5bi25YWl5ZWG5ZOB5YO55qC8LOS5n+WPr+aJi+WLleS/ruaUuScsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3N1YnRvdGFsJyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflsI/oqIgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+iHquWLleioiOeulyA9IOaVuOmHjyDDlyDllq7lg7knLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdub3RlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+WCmeiouycsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAndG90YWxBbW91bnQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+e4vemHkemhjScsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn6Ieq5YuV6KiI566X5omA5pyJ6aCF55uu5bCP6KiI57i95ZKMJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2Rpc2NvdW50JyxcclxuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+aKmOaJoycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdmaW5hbEFtb3VudCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAwLFxyXG4gICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5pyA57WC6YeR6aGNJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfoh6rli5XoqIjnrpcgPSDnuL3ph5HpoY0gLSDmipjmiaMnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnbm90ZXMnLFxyXG4gICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+WCmeiouycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdzaGlwcGluZ0FkZHJlc3MnLFxyXG4gICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+mFjemAgeWcsOWdgCcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwYXltZW50U3RhdHVzJyxcclxuICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6ICd1bnBhaWQnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+S7mOasvueLgOaFiycsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+acquS7mOasvicsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICd1bnBhaWQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+mDqOWIhuS7mOasvicsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdwYXJ0aWFsJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflt7Lku5jmrL4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAncGFpZCcsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAncGF5bWVudE1ldGhvZCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+S7mOasvuaWueW8jycsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+ePvumHkScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdjYXNoJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfovYnluLMnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAndHJhbnNmZXInLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+S/oeeUqOWNoScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdjcmVkaXRfY2FyZCcsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5YW25LuWJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ290aGVyJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVkQnknLFxyXG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpb25zaGlwJyxcclxuICAgICAgICAgICAgcmVsYXRpb25UbzogJ3VzZXJzJyxcclxuICAgICAgICAgICAgbGFiZWw6ICflu7rnq4vogIUnLFxyXG4gICAgICAgICAgICBhZG1pbjoge1xyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICd1cGRhdGVkQnknLFxyXG4gICAgICAgICAgICB0eXBlOiAncmVsYXRpb25zaGlwJyxcclxuICAgICAgICAgICAgcmVsYXRpb25UbzogJ3VzZXJzJyxcclxuICAgICAgICAgICAgbGFiZWw6ICfmnIDlvozmm7TmlrDogIUnLFxyXG4gICAgICAgICAgICBhZG1pbjoge1xyXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgIF0sXHJcbiAgICBob29rczoge1xyXG4gICAgICAgIGJlZm9yZUNoYW5nZTogW1xyXG4gICAgICAgICAgICBhc3luYyAoeyBkYXRhLCByZXEsIG9wZXJhdGlvbiwgb3JpZ2luYWxEb2MgfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g55Sf5oiQ6KiC5Zau57eo6JmfXHJcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnY3JlYXRlJyAmJiAhZGF0YS5vcmRlck51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlU3RyID0gbm93LnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgMTApLnJlcGxhY2UoLy0vZywgJycpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOafpeipouS7iuWkqeeahOacgOW+jOS4gOWAi+ioguWWrue3qOiZn1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZG9jcyB9ID0gYXdhaXQgcmVxLnBheWxvYWQuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdvcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVyZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JkZXJOdW1iZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWtlOiBgT1JELSR7ZGF0ZVN0cn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydDogJy1vcmRlck51bWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0TnVtYmVyID0gMVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2NzLmxlbmd0aCA+IDAgJiYgZG9jc1swXS5vcmRlck51bWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TnVtYmVyID0gZG9jc1swXS5vcmRlck51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXRjaCA9IGxhc3ROdW1iZXIubWF0Y2goLy0oXFxkKykkLylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0TnVtYmVyID0gcGFyc2VJbnQobWF0Y2hbMV0pICsgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhLm9yZGVyTnVtYmVyID0gYE9SRC0ke2RhdGVTdHJ9LSR7U3RyaW5nKG5leHROdW1iZXIpLnBhZFN0YXJ0KDQsICcwJyl9YFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOiHquWLleioreWumuW7uueri+iAheWSjOabtOaWsOiAhVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2NyZWF0ZScgJiYgcmVxLnVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmNyZWF0ZWRCeSA9IHJlcS51c2VyLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVkQnkgPSByZXEudXNlci5pZFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICd1cGRhdGUnICYmIHJlcS51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVkQnkgPSByZXEudXNlci5pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOioiOeul+avj+WAi+mgheebrueahOWwj+ioiFxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaXRlbXMgJiYgQXJyYXkuaXNBcnJheShkYXRhLml0ZW1zKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuaXRlbXMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5pdGVtcy5tYXAoYXN5bmMgKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5rKS5pyJ6Kit5a6a5Zau5YO5LOW+nuWVhuWTgeWPluW+l1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLnVuaXRQcmljZSAmJiBpdGVtLnByb2R1Y3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0SWQgPSB0eXBlb2YgaXRlbS5wcm9kdWN0ID09PSAnc3RyaW5nJyA/IGl0ZW0ucHJvZHVjdCA6IGl0ZW0ucHJvZHVjdC5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3QgPSBhd2FpdCByZXEucGF5bG9hZC5maW5kQnlJRCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnVuaXRQcmljZSA9IHByb2R1Y3QucHJpY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDoqIjnrpflsI/oqIhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3VidG90YWwgPSAoaXRlbS5xdWFudGl0eSB8fCAwKSAqIChpdGVtLnVuaXRQcmljZSB8fCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOioiOeul+e4vemHkemhjVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEudG90YWxBbW91bnQgPSBkYXRhLml0ZW1zLnJlZHVjZSgoc3VtOiBudW1iZXIsIGl0ZW06IGFueSkgPT4gc3VtICsgKGl0ZW0uc3VidG90YWwgfHwgMCksIDApXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOioiOeul+acgOe1gumHkemhjVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZmluYWxBbW91bnQgPSBkYXRhLnRvdGFsQW1vdW50IC0gKGRhdGEuZGlzY291bnQgfHwgMClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyDnlbboqILllq7ni4DmhYvorormm7TngrogY29uZmlybWVkIOaZguaJo+a4m+W6q+WtmFxyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbiA9PT0gJ3VwZGF0ZScgJiZcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9PT0gJ2NvbmZpcm1lZCcgJiZcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbERvYy5zdGF0dXMgIT09ICdjb25maXJtZWQnXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGF0YS5pdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0SWQgPSB0eXBlb2YgaXRlbS5wcm9kdWN0ID09PSAnc3RyaW5nJyA/IGl0ZW0ucHJvZHVjdCA6IGl0ZW0ucHJvZHVjdC5pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgcmVxLnBheWxvYWQuZmluZEJ5SUQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogJ3Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwcm9kdWN0SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDmiaPmuJvluqvlrZhcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVxLnBheWxvYWQudXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrIC0gaXRlbS5xdWFudGl0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOeVtuioguWWruW+niBjb25maXJtZWQg5Y+W5raI5pmCLOaBouW+qeW6q+WtmFxyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbiA9PT0gJ3VwZGF0ZScgJiZcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9PT0gJ2NhbmNlbGxlZCcgJiZcclxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbERvYy5zdGF0dXMgPT09ICdjb25maXJtZWQnXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygb3JpZ2luYWxEb2MuaXRlbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdElkID0gdHlwZW9mIGl0ZW0ucHJvZHVjdCA9PT0gJ3N0cmluZycgPyBpdGVtLnByb2R1Y3QgOiBpdGVtLnByb2R1Y3QuaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IHJlcS5wYXlsb2FkLmZpbmRCeUlEKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb246ICdwcm9kdWN0cycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvZHVjdElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5oGi5b6p5bqr5a2YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlcS5wYXlsb2FkLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiAncHJvZHVjdHMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHByb2R1Y3RJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogcHJvZHVjdC5zdG9jayArIGl0ZW0ucXVhbnRpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIF0sXHJcbiAgICB9LFxyXG4gICAgYWNjZXNzOiB7XHJcbiAgICAgICAgLy8gQWRtaW4sIE1hbmFnZXIsIFN0YWZmIOWPr+S7peW7uueri1xyXG4gICAgICAgIGNyZWF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInLCAnc3RhZmYnXS5pbmNsdWRlcyh1c2VyPy5yb2xlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g5qC55pOa6KeS6Imy5o6n5Yi26K6A5Y+W5qyK6ZmQXHJcbiAgICAgICAgcmVhZDogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChbJ2FkbWluJywgJ21hbmFnZXInXS5pbmNsdWRlcyh1c2VyPy5yb2xlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWUgLy8g5Y+v5Lul5p+l55yL5omA5pyJ6KiC5ZauXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVzZXI/LnJvbGUgPT09ICdzdGFmZicpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN0YWZmIOWPquiDveafpeeci+iHquW3seW7uueri+eahOioguWWrlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXF1YWxzOiB1c2VyLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVzZXI/LnJvbGUgPT09ICd2aWV3ZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZSAvLyBWaWV3ZXIg5Y+v5Lul5p+l55yL5omA5pyJ6KiC5ZauXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyDmoLnmk5rop5LoibLmjqfliLbmm7TmlrDmrIrpmZBcclxuICAgICAgICB1cGRhdGU6ICh7IHJlcTogeyB1c2VyIH0gfSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoWydhZG1pbicsICdtYW5hZ2VyJ10uaW5jbHVkZXModXNlcj8ucm9sZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlIC8vIOWPr+S7peabtOaWsOaJgOacieioguWWrlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh1c2VyPy5yb2xlID09PSAnc3RhZmYnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTdGFmZiDlj6rog73mm7TmlrDoh6rlt7Hlu7rnq4vnmoToqILllq5cclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsczogdXNlci5pZCxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g5Y+q5pyJIEFkbWluIOWPr+S7peWIqumZpFxyXG4gICAgICAgIGRlbGV0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyPy5yb2xlID09PSAnYWRtaW4nXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn1cclxuIl0sIm5hbWVzIjpbIk9yZGVycyIsInNsdWciLCJhZG1pbiIsInVzZUFzVGl0bGUiLCJkZWZhdWx0Q29sdW1ucyIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwidW5pcXVlIiwibGFiZWwiLCJyZWFkT25seSIsImRlc2NyaXB0aW9uIiwicmVsYXRpb25UbyIsInJlcXVpcmVkIiwiZGVmYXVsdFZhbHVlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwib3B0aW9ucyIsInZhbHVlIiwibWluUm93cyIsIm1pbiIsImhvb2tzIiwiYmVmb3JlQ2hhbmdlIiwiZGF0YSIsInJlcSIsIm9wZXJhdGlvbiIsIm9yaWdpbmFsRG9jIiwib3JkZXJOdW1iZXIiLCJub3ciLCJkYXRlU3RyIiwic2xpY2UiLCJyZXBsYWNlIiwiZG9jcyIsInBheWxvYWQiLCJmaW5kIiwiY29sbGVjdGlvbiIsIndoZXJlIiwibGlrZSIsInNvcnQiLCJsaW1pdCIsIm5leHROdW1iZXIiLCJsZW5ndGgiLCJsYXN0TnVtYmVyIiwibWF0Y2giLCJwYXJzZUludCIsIlN0cmluZyIsInBhZFN0YXJ0IiwidXNlciIsImNyZWF0ZWRCeSIsImlkIiwidXBkYXRlZEJ5IiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwiaXRlbSIsInVuaXRQcmljZSIsInByb2R1Y3QiLCJwcm9kdWN0SWQiLCJmaW5kQnlJRCIsInByaWNlIiwic3VidG90YWwiLCJxdWFudGl0eSIsInRvdGFsQW1vdW50IiwicmVkdWNlIiwic3VtIiwiZmluYWxBbW91bnQiLCJkaXNjb3VudCIsInN0YXR1cyIsInVwZGF0ZSIsInN0b2NrIiwiYWNjZXNzIiwiY3JlYXRlIiwiaW5jbHVkZXMiLCJyb2xlIiwicmVhZCIsImVxdWFscyIsImRlbGV0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Orders.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Products.ts":
/*!*************************************!*\
  !*** ./src/collections/Products.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Products: () => (/* binding */ Products)\n/* harmony export */ });\nconst Products = {\n    slug: 'products',\n    admin: {\n        useAsTitle: 'name',\n        defaultColumns: [\n            'productCode',\n            'name',\n            'category',\n            'price',\n            'stock',\n            'isActive'\n        ]\n    },\n    fields: [\n        {\n            name: 'productCode',\n            type: 'text',\n            required: true,\n            unique: true,\n            label: '商品編號'\n        },\n        {\n            name: 'name',\n            type: 'text',\n            required: true,\n            label: '商品名稱'\n        },\n        {\n            name: 'description',\n            type: 'textarea',\n            label: '商品描述'\n        },\n        {\n            name: 'category',\n            type: 'select',\n            label: '分類',\n            options: [\n                {\n                    label: '電子產品',\n                    value: 'electronics'\n                },\n                {\n                    label: '服裝',\n                    value: 'clothing'\n                },\n                {\n                    label: '食品',\n                    value: 'food'\n                },\n                {\n                    label: '家居用品',\n                    value: 'home'\n                },\n                {\n                    label: '其他',\n                    value: 'other'\n                }\n            ]\n        },\n        {\n            name: 'price',\n            type: 'number',\n            required: true,\n            min: 0,\n            label: '單價'\n        },\n        {\n            name: 'cost',\n            type: 'number',\n            min: 0,\n            label: '成本',\n            admin: {\n                description: '進貨成本'\n            }\n        },\n        {\n            name: 'unit',\n            type: 'select',\n            label: '單位',\n            defaultValue: 'pcs',\n            options: [\n                {\n                    label: '個',\n                    value: 'pcs'\n                },\n                {\n                    label: '件',\n                    value: 'items'\n                },\n                {\n                    label: '公斤',\n                    value: 'kg'\n                },\n                {\n                    label: '公升',\n                    value: 'liter'\n                },\n                {\n                    label: '盒',\n                    value: 'box'\n                },\n                {\n                    label: '包',\n                    value: 'pack'\n                }\n            ]\n        },\n        {\n            name: 'stock',\n            type: 'number',\n            required: true,\n            defaultValue: 0,\n            min: 0,\n            label: '庫存數量'\n        },\n        {\n            name: 'minStock',\n            type: 'number',\n            defaultValue: 10,\n            min: 0,\n            label: '最低庫存警示',\n            admin: {\n                description: '當庫存低於此數值時會顯示警示'\n            }\n        },\n        {\n            name: 'image',\n            type: 'upload',\n            relationTo: 'media',\n            label: '商品圖片'\n        },\n        {\n            name: 'isActive',\n            type: 'checkbox',\n            defaultValue: true,\n            label: '是否啟用'\n        },\n        {\n            name: 'createdBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '建立者',\n            admin: {\n                readOnly: true\n            }\n        }\n    ],\n    hooks: {\n        beforeChange: [\n            async ({ data, req, operation })=>{\n                // 自動設定建立者\n                if (operation === 'create' && req.user) {\n                    data.createdBy = req.user.id;\n                }\n                return data;\n            }\n        ]\n    },\n    access: {\n        // Admin, Manager, Staff 可以建立\n        create: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff'\n            ].includes(user?.role);\n        },\n        // 所有角色都可以讀取\n        read: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff',\n                'viewer'\n            ].includes(user?.role);\n        },\n        // Admin, Manager, Staff 可以更新\n        update: ({ req: { user } })=>{\n            return [\n                'admin',\n                'manager',\n                'staff'\n            ].includes(user?.role);\n        },\n        // 只有 Admin 可以刪除\n        delete: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztnQkFBUztnQkFBVztnQkFBUzthQUFTLENBQUNLLFFBQVEsQ0FBQ0wsTUFBTU07UUFDbEU7UUFDQSw2QkFBNkI7UUFDN0JFLFFBQVEsQ0FBQyxFQUFFVixLQUFLLEVBQUVFLElBQUksRUFBRSxFQUFFO1lBQ3RCLE9BQU87Z0JBQUM7Z0JBQVM7Z0JBQVc7YUFBUSxDQUFDSyxRQUFRLENBQUNMLE1BQU1NO1FBQ3hEO1FBQ0EsZ0JBQWdCO1FBQ2hCRyxRQUFRLENBQUMsRUFBRVgsS0FBSyxFQUFFRSxJQUFJLEVBQUUsRUFBRTtZQUN0QixPQUFPQSxNQUFNTSxTQUFTO1FBQzFCO0lBQ0o7QUFDSixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JkZXItbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvY29sbGVjdGlvbnMvUHJvZHVjdHMudHM/YmRhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENvbGxlY3Rpb25Db25maWcgfSBmcm9tICdwYXlsb2FkJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFByb2R1Y3RzOiBDb2xsZWN0aW9uQ29uZmlnID0ge1xyXG4gICAgc2x1ZzogJ3Byb2R1Y3RzJyxcclxuICAgIGFkbWluOiB7XHJcbiAgICAgICAgdXNlQXNUaXRsZTogJ25hbWUnLFxyXG4gICAgICAgIGRlZmF1bHRDb2x1bW5zOiBbJ3Byb2R1Y3RDb2RlJywgJ25hbWUnLCAnY2F0ZWdvcnknLCAncHJpY2UnLCAnc3RvY2snLCAnaXNBY3RpdmUnXSxcclxuICAgIH0sXHJcbiAgICBmaWVsZHM6IFtcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwcm9kdWN0Q29kZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgbGFiZWw6ICfllYblk4Hnt6jomZ8nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnbmFtZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5ZWG5ZOB5ZCN56ixJyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICAgICAgbGFiZWw6ICfllYblk4Hmj4/ov7AnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnY2F0ZWdvcnknLFxyXG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgICAgICAgbGFiZWw6ICfliIbpoZ4nLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfpm7vlrZDnlKLlk4EnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnZWxlY3Ryb25pY3MnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+acjeijnScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdjbG90aGluZycsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn6aOf5ZOBJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2Zvb2QnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+WutuWxheeUqOWTgScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdob21lJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflhbbku5YnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnb3RoZXInLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3ByaWNlJyxcclxuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5Zau5YO5JyxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2Nvc3QnLFxyXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+aIkOacrCcsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+mAsuiyqOaIkOacrCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICd1bml0JyxcclxuICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5Zau5L2NJyxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAncGNzJyxcclxuICAgICAgICAgICAgb3B0aW9uczogW1xyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5YCLJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3BjcycsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5Lu2JyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2l0ZW1zJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflhazmlqQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAna2cnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+WFrOWNhycsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdsaXRlcicsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn55uSJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2JveCcsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5YyFJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3BhY2snLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3N0b2NrJyxcclxuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXHJcbiAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgbGFiZWw6ICfluqvlrZjmlbjph48nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnbWluU3RvY2snLFxyXG4gICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAxMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+acgOS9juW6q+WtmOitpuekuicsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+eVtuW6q+WtmOS9juaWvOatpOaVuOWAvOaZguacg+mhr+ekuuitpuekuicsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdpbWFnZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICd1cGxvYWQnLFxyXG4gICAgICAgICAgICByZWxhdGlvblRvOiAnbWVkaWEnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+WVhuWTgeWclueJhycsXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdpc0FjdGl2ZScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgbGFiZWw6ICfmmK/lkKbllZ/nlKgnLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnY3JlYXRlZEJ5JyxcclxuICAgICAgICAgICAgdHlwZTogJ3JlbGF0aW9uc2hpcCcsXHJcbiAgICAgICAgICAgIHJlbGF0aW9uVG86ICd1c2VycycsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5bu656uL6ICFJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgaG9va3M6IHtcclxuICAgICAgICBiZWZvcmVDaGFuZ2U6IFtcclxuICAgICAgICAgICAgYXN5bmMgKHsgZGF0YSwgcmVxLCBvcGVyYXRpb24gfSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8g6Ieq5YuV6Kit5a6a5bu656uL6ICFXHJcbiAgICAgICAgICAgICAgICBpZiAob3BlcmF0aW9uID09PSAnY3JlYXRlJyAmJiByZXEudXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEuY3JlYXRlZEJ5ID0gcmVxLnVzZXIuaWRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgXSxcclxuICAgIH0sXHJcbiAgICBhY2Nlc3M6IHtcclxuICAgICAgICAvLyBBZG1pbiwgTWFuYWdlciwgU3RhZmYg5Y+v5Lul5bu656uLXHJcbiAgICAgICAgY3JlYXRlOiAoeyByZXE6IHsgdXNlciB9IH0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnYWRtaW4nLCAnbWFuYWdlcicsICdzdGFmZiddLmluY2x1ZGVzKHVzZXI/LnJvbGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyDmiYDmnInop5LoibLpg73lj6/ku6XoroDlj5ZcclxuICAgICAgICByZWFkOiAoeyByZXE6IHsgdXNlciB9IH0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIFsnYWRtaW4nLCAnbWFuYWdlcicsICdzdGFmZicsICd2aWV3ZXInXS5pbmNsdWRlcyh1c2VyPy5yb2xlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8gQWRtaW4sIE1hbmFnZXIsIFN0YWZmIOWPr+S7peabtOaWsFxyXG4gICAgICAgIHVwZGF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInLCAnc3RhZmYnXS5pbmNsdWRlcyh1c2VyPy5yb2xlKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLy8g5Y+q5pyJIEFkbWluIOWPr+S7peWIqumZpFxyXG4gICAgICAgIGRlbGV0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB1c2VyPy5yb2xlID09PSAnYWRtaW4nXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbn1cclxuIl0sIm5hbWVzIjpbIlByb2R1Y3RzIiwic2x1ZyIsImFkbWluIiwidXNlQXNUaXRsZSIsImRlZmF1bHRDb2x1bW5zIiwiZmllbGRzIiwibmFtZSIsInR5cGUiLCJyZXF1aXJlZCIsInVuaXF1ZSIsImxhYmVsIiwib3B0aW9ucyIsInZhbHVlIiwibWluIiwiZGVzY3JpcHRpb24iLCJkZWZhdWx0VmFsdWUiLCJyZWxhdGlvblRvIiwicmVhZE9ubHkiLCJob29rcyIsImJlZm9yZUNoYW5nZSIsImRhdGEiLCJyZXEiLCJvcGVyYXRpb24iLCJ1c2VyIiwiY3JlYXRlZEJ5IiwiaWQiLCJhY2Nlc3MiLCJjcmVhdGUiLCJpbmNsdWRlcyIsInJvbGUiLCJyZWFkIiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Products.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Triggers.ts":
/*!*************************************!*\
  !*** ./src/collections/Triggers.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Triggers: () => (/* binding */ Triggers)\n/* harmony export */ });\nconst Triggers = {\n    slug: 'triggers',\n    admin: {\n        useAsTitle: 'name',\n        defaultColumns: [\n            'name',\n            'enabled',\n            'targetCollection',\n            'hookType',\n            'webhookUrl'\n        ],\n        description: '設定資料觸發器,當指定的 collection 發生事件時自動呼叫 webhook'\n    },\n    fields: [\n        {\n            name: 'name',\n            type: 'text',\n            required: true,\n            label: '觸發器名稱',\n            admin: {\n                description: '這個觸發器的名稱,例如:「訂單狀態變更通知」'\n            }\n        },\n        {\n            name: 'enabled',\n            type: 'checkbox',\n            defaultValue: true,\n            label: '啟用',\n            admin: {\n                description: '關閉此選項可暫時停用此觸發器'\n            }\n        },\n        {\n            name: 'description',\n            type: 'textarea',\n            label: '描述',\n            admin: {\n                description: '說明此觸發器的用途'\n            }\n        },\n        {\n            name: 'targetCollection',\n            type: 'select',\n            required: true,\n            label: '目標 Collection',\n            options: [\n                {\n                    label: 'Orders (訂單)',\n                    value: 'orders'\n                },\n                {\n                    label: 'Products (商品)',\n                    value: 'products'\n                },\n                {\n                    label: 'Customers (客戶)',\n                    value: 'customers'\n                },\n                {\n                    label: 'Users (使用者)',\n                    value: 'users'\n                },\n                {\n                    label: 'Media (媒體)',\n                    value: 'media'\n                }\n            ],\n            admin: {\n                description: '選擇要監聽的 collection'\n            }\n        },\n        {\n            name: 'hookType',\n            type: 'select',\n            required: true,\n            label: 'Hook 類型',\n            options: [\n                {\n                    label: 'Before Change (資料變更前)',\n                    value: 'beforeChange'\n                },\n                {\n                    label: 'After Change (資料變更後)',\n                    value: 'afterChange'\n                },\n                {\n                    label: 'Before Delete (刪除前)',\n                    value: 'beforeDelete'\n                },\n                {\n                    label: 'After Delete (刪除後)',\n                    value: 'afterDelete'\n                },\n                {\n                    label: 'Before Read (讀取前)',\n                    value: 'beforeRead'\n                },\n                {\n                    label: 'After Read (讀取後)',\n                    value: 'afterRead'\n                }\n            ],\n            admin: {\n                description: '選擇要在哪個時機點觸發'\n            }\n        },\n        {\n            name: 'webhookUrl',\n            type: 'text',\n            required: true,\n            label: 'Webhook URL',\n            admin: {\n                description: '當觸發器啟動時要呼叫的 HTTP 端點'\n            }\n        },\n        {\n            name: 'httpMethod',\n            type: 'select',\n            required: true,\n            defaultValue: 'POST',\n            label: 'HTTP 方法',\n            options: [\n                {\n                    label: 'POST',\n                    value: 'POST'\n                },\n                {\n                    label: 'GET',\n                    value: 'GET'\n                },\n                {\n                    label: 'PUT',\n                    value: 'PUT'\n                },\n                {\n                    label: 'PATCH',\n                    value: 'PATCH'\n                }\n            ]\n        },\n        {\n            name: 'headers',\n            type: 'json',\n            label: 'HTTP Headers',\n            admin: {\n                description: '自訂 HTTP headers,JSON 格式,例如: {\"Authorization\": \"Bearer token123\"}'\n            }\n        },\n        {\n            name: 'condition',\n            type: 'textarea',\n            label: '執行條件 (選填)',\n            admin: {\n                description: '用 JavaScript 表達式定義觸發條件,例如: data.status === \"confirmed\"。留空則總是執行'\n            }\n        },\n        {\n            name: 'timeout',\n            type: 'number',\n            defaultValue: 5000,\n            min: 1000,\n            max: 60000,\n            label: 'Timeout (毫秒)',\n            admin: {\n                description: 'Webhook 請求的超時時間,預設 5000ms (5秒)'\n            }\n        },\n        {\n            name: 'retryCount',\n            type: 'number',\n            defaultValue: 0,\n            min: 0,\n            max: 5,\n            label: '失敗重試次數',\n            admin: {\n                description: 'Webhook 呼叫失敗時的重試次數,0 表示不重試'\n            }\n        },\n        {\n            name: 'createdBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '建立者',\n            admin: {\n                readOnly: true\n            }\n        },\n        {\n            name: 'updatedBy',\n            type: 'relationship',\n            relationTo: 'users',\n            label: '最後更新者',\n            admin: {\n                readOnly: true\n            }\n        }\n    ],\n    hooks: {\n        beforeChange: [\n            async ({ data, req, operation })=>{\n                // 自動設定建立者和更新者\n                if (operation === 'create' && req.user) {\n                    data.createdBy = req.user.id;\n                    data.updatedBy = req.user.id;\n                } else if (operation === 'update' && req.user) {\n                    data.updatedBy = req.user.id;\n                }\n                return data;\n            }\n        ],\n        afterChange: [\n            async ({ req })=>{\n                // 當觸發器建立或更新時,重新載入所有觸發器\n                const { reloadTriggers } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../lib/registerDynamicHooks */ \"(rsc)/./src/lib/registerDynamicHooks.ts\"));\n                await reloadTriggers(req.payload);\n            }\n        ],\n        afterDelete: [\n            async ({ req })=>{\n                // 當觸發器刪除時,重新載入所有觸發器\n                const { reloadTriggers } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../lib/registerDynamicHooks */ \"(rsc)/./src/lib/registerDynamicHooks.ts\"));\n                await reloadTriggers(req.payload);\n            }\n        ]\n    },\n    access: {\n        // Admin 和 Manager 可以建立\n        create: ({ req: { user } })=>{\n            if (!user?.role) return false;\n            return [\n                'admin',\n                'manager'\n            ].includes(user.role);\n        },\n        // Admin 和 Manager 可以查看所有觸發器\n        read: ({ req: { user } })=>{\n            if (!user?.role) return false;\n            return [\n                'admin',\n                'manager'\n            ].includes(user.role);\n        },\n        // Admin 和 Manager 可以更新\n        update: ({ req: { user } })=>{\n            if (!user?.role) return false;\n            return [\n                'admin',\n                'manager'\n            ].includes(user.role);\n        },\n        // 只有 Admin 可以刪除\n        delete: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RTtZQUNwQixJQUFJLENBQUNBLE1BQU1VLE1BQU0sT0FBTztZQUN4QixPQUFPO2dCQUFDO2dCQUFTO2FBQVUsQ0FBQ0MsUUFBUSxDQUFDWCxLQUFLVSxJQUFJO1FBQ2xEO1FBQ0EsdUJBQXVCO1FBQ3ZCRyxRQUFRLENBQUMsRUFBRWYsS0FBSyxFQUFFRSxJQUFJLEVBQUUsRUFBRTtZQUN0QixJQUFJLENBQUNBLE1BQU1VLE1BQU0sT0FBTztZQUN4QixPQUFPO2dCQUFDO2dCQUFTO2FBQVUsQ0FBQ0MsUUFBUSxDQUFDWCxLQUFLVSxJQUFJO1FBQ2xEO1FBQ0EsZ0JBQWdCO1FBQ2hCSSxRQUFRLENBQUMsRUFBRWhCLEtBQUssRUFBRUUsSUFBSSxFQUFFLEVBQUU7WUFDdEIsT0FBT0EsTUFBTVUsU0FBUztRQUMxQjtJQUNKO0FBQ0osRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL2NvbGxlY3Rpb25zL1RyaWdnZXJzLnRzPzI5ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcclxuXHJcbmV4cG9ydCBjb25zdCBUcmlnZ2VyczogQ29sbGVjdGlvbkNvbmZpZyA9IHtcclxuICAgIHNsdWc6ICd0cmlnZ2VycycsXHJcbiAgICBhZG1pbjoge1xyXG4gICAgICAgIHVzZUFzVGl0bGU6ICduYW1lJyxcclxuICAgICAgICBkZWZhdWx0Q29sdW1uczogWyduYW1lJywgJ2VuYWJsZWQnLCAndGFyZ2V0Q29sbGVjdGlvbicsICdob29rVHlwZScsICd3ZWJob29rVXJsJ10sXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICfoqK3lrpros4fmlpnop7jnmbzlmags55W25oyH5a6a55qEIGNvbGxlY3Rpb24g55m855Sf5LqL5Lu25pmC6Ieq5YuV5ZG85Y+rIHdlYmhvb2snLFxyXG4gICAgfSxcclxuICAgIGZpZWxkczogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ25hbWUnLFxyXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+inuOeZvOWZqOWQjeeosScsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+mAmeWAi+inuOeZvOWZqOeahOWQjeeosSzkvovlpoI644CM6KiC5Zau54uA5oWL6K6K5pu06YCa55+l44CNJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2VuYWJsZWQnLFxyXG4gICAgICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5ZWf55SoJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn6Zec6ZaJ5q2k6YG46aCF5Y+v5pqr5pmC5YGc55So5q2k6Ke455m85ZmoJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2Rlc2NyaXB0aW9uJyxcclxuICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcclxuICAgICAgICAgICAgbGFiZWw6ICfmj4/ov7AnLFxyXG4gICAgICAgICAgICBhZG1pbjoge1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfoqqrmmI7mraTop7jnmbzlmajnmoTnlKjpgJQnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAndGFyZ2V0Q29sbGVjdGlvbicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgbGFiZWw6ICfnm67mqJkgQ29sbGVjdGlvbicsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ09yZGVycyAo6KiC5ZauKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdvcmRlcnMnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1Byb2R1Y3RzICjllYblk4EpJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ3Byb2R1Y3RzJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdDdXN0b21lcnMgKOWuouaItiknLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnY3VzdG9tZXJzJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdVc2VycyAo5L2/55So6ICFKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICd1c2VycycsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnTWVkaWEgKOWqkumrlCknLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnbWVkaWEnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn6YG45pOH6KaB55uj6IG955qEIGNvbGxlY3Rpb24nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnaG9va1R5cGUnLFxyXG4gICAgICAgICAgICB0eXBlOiAnc2VsZWN0JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnSG9vayDpoZ7lnosnLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdCZWZvcmUgQ2hhbmdlICjos4fmlpnorormm7TliY0pJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2JlZm9yZUNoYW5nZScsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQWZ0ZXIgQ2hhbmdlICjos4fmlpnorormm7TlvowpJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2FmdGVyQ2hhbmdlJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdCZWZvcmUgRGVsZXRlICjliKrpmaTliY0pJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2JlZm9yZURlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiAnQWZ0ZXIgRGVsZXRlICjliKrpmaTlvowpJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2FmdGVyRGVsZXRlJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdCZWZvcmUgUmVhZCAo6K6A5Y+W5YmNKScsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdiZWZvcmVSZWFkJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdBZnRlciBSZWFkICjoroDlj5blvowpJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2FmdGVyUmVhZCcsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBhZG1pbjoge1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfpgbjmk4fopoHlnKjlk6rlgIvmmYLmqZ/pu57op7jnmbwnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnd2ViaG9va1VybCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnV2ViaG9vayBVUkwnLFxyXG4gICAgICAgICAgICBhZG1pbjoge1xyXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICfnlbbop7jnmbzlmajllZ/li5XmmYLopoHlkbzlj6vnmoQgSFRUUCDnq6/pu54nLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAnaHR0cE1ldGhvZCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnSFRUUCDmlrnms5UnLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1BVVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdQVVQnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ1BBVENIJyxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ1BBVENIJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdoZWFkZXJzJyxcclxuICAgICAgICAgICAgdHlwZTogJ2pzb24nLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0hUVFAgSGVhZGVycycsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ+iHquiogiBIVFRQIGhlYWRlcnMsSlNPTiDmoLzlvI8s5L6L5aaCOiB7XCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIHRva2VuMTIzXCJ9JyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2NvbmRpdGlvbicsXHJcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXHJcbiAgICAgICAgICAgIGxhYmVsOiAn5Z+36KGM5qKd5Lu2ICjpgbjloaspJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAn55SoIEphdmFTY3JpcHQg6KGo6YGU5byP5a6a576p6Ke455m85qKd5Lu2LOS+i+WmgjogZGF0YS5zdGF0dXMgPT09IFwiY29uZmlybWVkXCLjgILnlZnnqbrliYfnuL3mmK/ln7fooYwnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAndGltZW91dCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDUwMDAsXHJcbiAgICAgICAgICAgIG1pbjogMTAwMCxcclxuICAgICAgICAgICAgbWF4OiA2MDAwMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdUaW1lb3V0ICjmr6vnp5IpJyxcclxuICAgICAgICAgICAgYWRtaW46IHtcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnV2ViaG9vayDoq4vmsYLnmoTotoXmmYLmmYLplpMs6aCQ6KitIDUwMDBtcyAoNeenkiknLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuYW1lOiAncmV0cnlDb3VudCcsXHJcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IDAsXHJcbiAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgbWF4OiA1LFxyXG4gICAgICAgICAgICBsYWJlbDogJ+WkseaVl+mHjeippuasoeaVuCcsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ1dlYmhvb2sg5ZG85Y+r5aSx5pWX5pmC55qE6YeN6Kmm5qyh5pW4LDAg6KGo56S65LiN6YeN6KmmJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ2NyZWF0ZWRCeScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxyXG4gICAgICAgICAgICByZWxhdGlvblRvOiAndXNlcnMnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+W7uueri+iAhScsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbmFtZTogJ3VwZGF0ZWRCeScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdyZWxhdGlvbnNoaXAnLFxyXG4gICAgICAgICAgICByZWxhdGlvblRvOiAndXNlcnMnLFxyXG4gICAgICAgICAgICBsYWJlbDogJ+acgOW+jOabtOaWsOiAhScsXHJcbiAgICAgICAgICAgIGFkbWluOiB7XHJcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgXSxcclxuICAgIGhvb2tzOiB7XHJcbiAgICAgICAgYmVmb3JlQ2hhbmdlOiBbXHJcbiAgICAgICAgICAgIGFzeW5jICh7IGRhdGEsIHJlcSwgb3BlcmF0aW9uIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIOiHquWLleioreWumuW7uueri+iAheWSjOabtOaWsOiAhVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ2NyZWF0ZScgJiYgcmVxLnVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLmNyZWF0ZWRCeSA9IHJlcS51c2VyLmlkXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVkQnkgPSByZXEudXNlci5pZFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRpb24gPT09ICd1cGRhdGUnICYmIHJlcS51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51cGRhdGVkQnkgPSByZXEudXNlci5pZFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGFmdGVyQ2hhbmdlOiBbXHJcbiAgICAgICAgICAgIGFzeW5jICh7IHJlcSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDnlbbop7jnmbzlmajlu7rnq4vmiJbmm7TmlrDmmYIs6YeN5paw6LyJ5YWl5omA5pyJ6Ke455m85ZmoXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlbG9hZFRyaWdnZXJzIH0gPSBhd2FpdCBpbXBvcnQoJy4uL2xpYi9yZWdpc3RlckR5bmFtaWNIb29rcycpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCByZWxvYWRUcmlnZ2VycyhyZXEucGF5bG9hZClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIGFmdGVyRGVsZXRlOiBbXHJcbiAgICAgICAgICAgIGFzeW5jICh7IHJlcSB9KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDnlbbop7jnmbzlmajliKrpmaTmmYIs6YeN5paw6LyJ5YWl5omA5pyJ6Ke455m85ZmoXHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlbG9hZFRyaWdnZXJzIH0gPSBhd2FpdCBpbXBvcnQoJy4uL2xpYi9yZWdpc3RlckR5bmFtaWNIb29rcycpXHJcbiAgICAgICAgICAgICAgICBhd2FpdCByZWxvYWRUcmlnZ2VycyhyZXEucGF5bG9hZClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgfSxcclxuICAgIGFjY2Vzczoge1xyXG4gICAgICAgIC8vIEFkbWluIOWSjCBNYW5hZ2VyIOWPr+S7peW7uueri1xyXG4gICAgICAgIGNyZWF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdXNlcj8ucm9sZSkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyBBZG1pbiDlkowgTWFuYWdlciDlj6/ku6Xmn6XnnIvmiYDmnInop7jnmbzlmahcclxuICAgICAgICByZWFkOiAoeyByZXE6IHsgdXNlciB9IH0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCF1c2VyPy5yb2xlKSByZXR1cm4gZmFsc2VcclxuICAgICAgICAgICAgcmV0dXJuIFsnYWRtaW4nLCAnbWFuYWdlciddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8vIEFkbWluIOWSjCBNYW5hZ2VyIOWPr+S7peabtOaWsFxyXG4gICAgICAgIHVwZGF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdXNlcj8ucm9sZSkgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgICAgIHJldHVybiBbJ2FkbWluJywgJ21hbmFnZXInXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgICAgICAgfSxcclxuICAgICAgICAvLyDlj6rmnIkgQWRtaW4g5Y+v5Lul5Yiq6ZmkXHJcbiAgICAgICAgZGVsZXRlOiAoeyByZXE6IHsgdXNlciB9IH0pID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHVzZXI/LnJvbGUgPT09ICdhZG1pbidcclxuICAgICAgICB9LFxyXG4gICAgfSxcclxufVxyXG4iXSwibmFtZXMiOlsiVHJpZ2dlcnMiLCJzbHVnIiwiYWRtaW4iLCJ1c2VBc1RpdGxlIiwiZGVmYXVsdENvbHVtbnMiLCJkZXNjcmlwdGlvbiIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwicmVxdWlyZWQiLCJsYWJlbCIsImRlZmF1bHRWYWx1ZSIsIm9wdGlvbnMiLCJ2YWx1ZSIsIm1pbiIsIm1heCIsInJlbGF0aW9uVG8iLCJyZWFkT25seSIsImhvb2tzIiwiYmVmb3JlQ2hhbmdlIiwiZGF0YSIsInJlcSIsIm9wZXJhdGlvbiIsInVzZXIiLCJjcmVhdGVkQnkiLCJpZCIsInVwZGF0ZWRCeSIsImFmdGVyQ2hhbmdlIiwicmVsb2FkVHJpZ2dlcnMiLCJwYXlsb2FkIiwiYWZ0ZXJEZWxldGUiLCJhY2Nlc3MiLCJjcmVhdGUiLCJyb2xlIiwiaW5jbHVkZXMiLCJyZWFkIiwidXBkYXRlIiwiZGVsZXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Triggers.ts\n");

/***/ }),

/***/ "(rsc)/./src/collections/Users.ts":
/*!**********************************!*\
  !*** ./src/collections/Users.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Users: () => (/* binding */ Users)\n/* harmony export */ });\nconst Users = {\n    slug: 'users',\n    admin: {\n        useAsTitle: 'email'\n    },\n    auth: true,\n    fields: [\n        {\n            name: 'name',\n            type: 'text',\n            required: true,\n            label: '姓名'\n        },\n        {\n            name: 'role',\n            type: 'select',\n            required: true,\n            defaultValue: 'viewer',\n            label: '角色',\n            options: [\n                {\n                    label: '管理員',\n                    value: 'admin'\n                },\n                {\n                    label: '經理',\n                    value: 'manager'\n                },\n                {\n                    label: '員工',\n                    value: 'staff'\n                },\n                {\n                    label: '檢視者',\n                    value: 'viewer'\n                }\n            ],\n            access: {\n                // 只有管理員可以設定角色\n                update: ({ req: { user } })=>{\n                    return user?.role === 'admin';\n                }\n            }\n        },\n        {\n            name: 'isActive',\n            type: 'checkbox',\n            defaultValue: true,\n            label: '是否啟用',\n            admin: {\n                description: '停用的用戶無法登入系統'\n            }\n        }\n    ],\n    access: {\n        // 只有管理員可以建立新用戶\n        create: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        },\n        // 管理員可以查看所有用戶,其他人只能查看自己\n        read: ({ req: { user } })=>{\n            if (user?.role === 'admin') {\n                return true;\n            }\n            return {\n                id: {\n                    equals: user?.id\n                }\n            };\n        },\n        // 管理員可以更新所有用戶,其他人只能更新自己\n        update: ({ req: { user } })=>{\n            if (user?.role === 'admin') {\n                return true;\n            }\n            return {\n                id: {\n                    equals: user?.id\n                }\n            };\n        },\n        // 只有管理員可以刪除用戶\n        delete: ({ req: { user } })=>{\n            return user?.role === 'admin';\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvY29sbGVjdGlvbnMvVXNlcnMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVPLE1BQU1BLFFBQTBCO0lBQ3JDQyxNQUFNO0lBQ05DLE9BQU87UUFDTEMsWUFBWTtJQUNkO0lBQ0FDLE1BQU07SUFDTkMsUUFBUTtRQUNOO1lBQ0VDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZDLE9BQU87UUFDVDtRQUNBO1lBQ0VILE1BQU07WUFDTkMsTUFBTTtZQUNOQyxVQUFVO1lBQ1ZFLGNBQWM7WUFDZEQsT0FBTztZQUNQRSxTQUFTO2dCQUNQO29CQUNFRixPQUFPO29CQUNQRyxPQUFPO2dCQUNUO2dCQUNBO29CQUNFSCxPQUFPO29CQUNQRyxPQUFPO2dCQUNUO2dCQUNBO29CQUNFSCxPQUFPO29CQUNQRyxPQUFPO2dCQUNUO2dCQUNBO29CQUNFSCxPQUFPO29CQUNQRyxPQUFPO2dCQUNUO2FBQ0Q7WUFDREMsUUFBUTtnQkFDTixjQUFjO2dCQUNkQyxRQUFRLENBQUMsRUFBRUMsS0FBSyxFQUFFQyxJQUFJLEVBQUUsRUFBRTtvQkFDeEIsT0FBT0EsTUFBTUMsU0FBUztnQkFDeEI7WUFDRjtRQUNGO1FBQ0E7WUFDRVgsTUFBTTtZQUNOQyxNQUFNO1lBQ05HLGNBQWM7WUFDZEQsT0FBTztZQUNQUCxPQUFPO2dCQUNMZ0IsYUFBYTtZQUNmO1FBQ0Y7S0FDRDtJQUNETCxRQUFRO1FBQ04sZUFBZTtRQUNmTSxRQUFRLENBQUMsRUFBRUosS0FBSyxFQUFFQyxJQUFJLEVBQUUsRUFBRTtZQUN4QixPQUFPQSxNQUFNQyxTQUFTO1FBQ3hCO1FBQ0Esd0JBQXdCO1FBQ3hCRyxNQUFNLENBQUMsRUFBRUwsS0FBSyxFQUFFQyxJQUFJLEVBQUUsRUFBRTtZQUN0QixJQUFJQSxNQUFNQyxTQUFTLFNBQVM7Z0JBQzFCLE9BQU87WUFDVDtZQUNBLE9BQU87Z0JBQ0xJLElBQUk7b0JBQ0ZDLFFBQVFOLE1BQU1LO2dCQUNoQjtZQUNGO1FBQ0Y7UUFDQSx3QkFBd0I7UUFDeEJQLFFBQVEsQ0FBQyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRSxFQUFFO1lBQ3hCLElBQUlBLE1BQU1DLFNBQVMsU0FBUztnQkFDMUIsT0FBTztZQUNUO1lBQ0EsT0FBTztnQkFDTEksSUFBSTtvQkFDRkMsUUFBUU4sTUFBTUs7Z0JBQ2hCO1lBQ0Y7UUFDRjtRQUNBLGNBQWM7UUFDZEUsUUFBUSxDQUFDLEVBQUVSLEtBQUssRUFBRUMsSUFBSSxFQUFFLEVBQUU7WUFDeEIsT0FBT0EsTUFBTUMsU0FBUztRQUN4QjtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL2NvbGxlY3Rpb25zL1VzZXJzLnRzP2Y1NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcblxuZXhwb3J0IGNvbnN0IFVzZXJzOiBDb2xsZWN0aW9uQ29uZmlnID0ge1xuICBzbHVnOiAndXNlcnMnLFxuICBhZG1pbjoge1xuICAgIHVzZUFzVGl0bGU6ICdlbWFpbCcsXG4gIH0sXG4gIGF1dGg6IHRydWUsXG4gIGZpZWxkczogW1xuICAgIHtcbiAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbGFiZWw6ICflp5PlkI0nLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ3JvbGUnLFxuICAgICAgdHlwZTogJ3NlbGVjdCcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZTogJ3ZpZXdlcicsXG4gICAgICBsYWJlbDogJ+inkuiJsicsXG4gICAgICBvcHRpb25zOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogJ+euoeeQhuWToScsXG4gICAgICAgICAgdmFsdWU6ICdhZG1pbicsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBsYWJlbDogJ+e2k+eQhicsXG4gICAgICAgICAgdmFsdWU6ICdtYW5hZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiAn5ZOh5belJyxcbiAgICAgICAgICB2YWx1ZTogJ3N0YWZmJyxcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGxhYmVsOiAn5qqi6KaW6ICFJyxcbiAgICAgICAgICB2YWx1ZTogJ3ZpZXdlcicsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgYWNjZXNzOiB7XG4gICAgICAgIC8vIOWPquacieeuoeeQhuWToeWPr+S7peioreWumuinkuiJslxuICAgICAgICB1cGRhdGU6ICh7IHJlcTogeyB1c2VyIH0gfSkgPT4ge1xuICAgICAgICAgIHJldHVybiB1c2VyPy5yb2xlID09PSAnYWRtaW4nXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ2lzQWN0aXZlJyxcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICBkZWZhdWx0VmFsdWU6IHRydWUsXG4gICAgICBsYWJlbDogJ+aYr+WQpuWVn+eUqCcsXG4gICAgICBhZG1pbjoge1xuICAgICAgICBkZXNjcmlwdGlvbjogJ+WBnOeUqOeahOeUqOaItueEoeazleeZu+WFpeezu+e1sScsXG4gICAgICB9LFxuICAgIH0sXG4gIF0sXG4gIGFjY2Vzczoge1xuICAgIC8vIOWPquacieeuoeeQhuWToeWPr+S7peW7uueri+aWsOeUqOaItlxuICAgIGNyZWF0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XG4gICAgICByZXR1cm4gdXNlcj8ucm9sZSA9PT0gJ2FkbWluJ1xuICAgIH0sXG4gICAgLy8g566h55CG5ZOh5Y+v5Lul5p+l55yL5omA5pyJ55So5oi2LOWFtuS7luS6uuWPquiDveafpeeci+iHquW3sVxuICAgIHJlYWQ6ICh7IHJlcTogeyB1c2VyIH0gfSkgPT4ge1xuICAgICAgaWYgKHVzZXI/LnJvbGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZXF1YWxzOiB1c2VyPy5pZCxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIOeuoeeQhuWToeWPr+S7peabtOaWsOaJgOacieeUqOaItizlhbbku5bkurrlj6rog73mm7TmlrDoh6rlt7FcbiAgICB1cGRhdGU6ICh7IHJlcTogeyB1c2VyIH0gfSkgPT4ge1xuICAgICAgaWYgKHVzZXI/LnJvbGUgPT09ICdhZG1pbicpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZXF1YWxzOiB1c2VyPy5pZCxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICB9LFxuICAgIC8vIOWPquacieeuoeeQhuWToeWPr+S7peWIqumZpOeUqOaItlxuICAgIGRlbGV0ZTogKHsgcmVxOiB7IHVzZXIgfSB9KSA9PiB7XG4gICAgICByZXR1cm4gdXNlcj8ucm9sZSA9PT0gJ2FkbWluJ1xuICAgIH0sXG4gIH0sXG59XG4iXSwibmFtZXMiOlsiVXNlcnMiLCJzbHVnIiwiYWRtaW4iLCJ1c2VBc1RpdGxlIiwiYXV0aCIsImZpZWxkcyIsIm5hbWUiLCJ0eXBlIiwicmVxdWlyZWQiLCJsYWJlbCIsImRlZmF1bHRWYWx1ZSIsIm9wdGlvbnMiLCJ2YWx1ZSIsImFjY2VzcyIsInVwZGF0ZSIsInJlcSIsInVzZXIiLCJyb2xlIiwiZGVzY3JpcHRpb24iLCJjcmVhdGUiLCJyZWFkIiwiaWQiLCJlcXVhbHMiLCJkZWxldGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/collections/Users.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/addDynamicTriggers.ts":
/*!***************************************!*\
  !*** ./src/lib/addDynamicTriggers.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addDynamicTriggersToCollections: () => (/* binding */ addDynamicTriggersToCollections)\n/* harmony export */ });\n/* harmony import */ var _registerDynamicHooks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./registerDynamicHooks */ \"(rsc)/./src/lib/registerDynamicHooks.ts\");\n/* harmony import */ var _triggerEngine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./triggerEngine */ \"(rsc)/./src/lib/triggerEngine.ts\");\n\n\n/**\r\n * 為 collections 添加動態觸發器 hooks\r\n */ function addDynamicTriggersToCollections(collections) {\n    return collections.map((collection)=>{\n        const hooks = {\n            ...collection.hooks\n        };\n        // 為每個 hook 類型添加動態處理函數\n        const hookTypes = [\n            'beforeChange',\n            'afterChange',\n            'beforeDelete',\n            'afterDelete',\n            'beforeRead',\n            'afterRead'\n        ];\n        for (const hookType of hookTypes){\n            const existingHooks = hooks[hookType] || [];\n            const dynamicHook = createDynamicHook(hookType, collection.slug);\n            hooks[hookType] = [\n                ...existingHooks,\n                dynamicHook\n            ];\n        }\n        return {\n            ...collection,\n            hooks\n        };\n    });\n}\n/**\r\n * 建立動態 hook 函數\r\n */ function createDynamicHook(hookType, collectionSlug) {\n    return async (args)=>{\n        try {\n            const { req, operation } = args;\n            let data = args.data;\n            let originalDoc = args.originalDoc;\n            // 標準化參數: 不同 hook 類型的參數名稱不同\n            // afterChange: doc, previousDoc\n            // afterDelete: doc\n            // afterRead: doc\n            if (hookType === 'afterChange') {\n                data = args.doc;\n                originalDoc = args.previousDoc;\n            } else if (hookType === 'afterDelete' || hookType === 'afterRead') {\n                data = args.doc;\n            }\n            // 從當前載入的觸發器中篩選符合的觸發器\n            const currentTriggers = (0,_registerDynamicHooks__WEBPACK_IMPORTED_MODULE_0__.getCurrentTriggers)();\n            const relevantTriggers = currentTriggers.filter((trigger)=>trigger.targetCollection === collectionSlug && trigger.hookType === hookType);\n            if (relevantTriggers.length === 0) {\n                // 沒有相關觸發器,不做任何修改\n                return undefined // 返回 undefined 表示不修改數據\n                ;\n            }\n            // 準備執行上下文\n            const context = {\n                data,\n                originalDoc,\n                user: req?.user,\n                operation,\n                collection: collectionSlug\n            };\n            // 執行所有符合條件的觸發器\n            for (const trigger of relevantTriggers){\n                // 檢查條件\n                if (trigger.condition) {\n                    const conditionMet = (0,_triggerEngine__WEBPACK_IMPORTED_MODULE_1__.evaluateCondition)(trigger.condition, context);\n                    if (!conditionMet) {\n                        console.log(`[Dynamic Hooks] 觸發器 \"${trigger.name}\" 條件不符, 跳過執行`);\n                        continue;\n                    }\n                }\n                // 執行 webhook (非同步,不阻塞主流程)\n                (0,_triggerEngine__WEBPACK_IMPORTED_MODULE_1__.executeWebhook)({\n                    triggerId: trigger.id,\n                    triggerName: trigger.name,\n                    webhookUrl: trigger.webhookUrl,\n                    httpMethod: trigger.httpMethod,\n                    headers: trigger.headers,\n                    timeout: trigger.timeout,\n                    retryCount: trigger.retryCount,\n                    eventData: {\n                        hookType,\n                        collection: collectionSlug,\n                        operation,\n                        data,\n                        originalDoc,\n                        user: req?.user ? {\n                            id: req.user.id,\n                            email: req.user.email,\n                            role: req.user.role\n                        } : undefined\n                    }\n                }).catch((error)=>{\n                    // 捕獲錯誤但不拋出,避免影響主流程\n                    console.error(`[Dynamic Hooks] 觸發器 \"${trigger.name}\" 執行失敗:`, error);\n                });\n            }\n            // 不修改數據,返回 undefined\n            return undefined;\n        } catch (error) {\n            // 捕獲所有錯誤,避免中斷請求\n            console.error(`[Dynamic Hooks] ✗ Hook 執行錯誤 (${collectionSlug}.${hookType}):`, error);\n            // 返回 undefined,不修改數據\n            return undefined;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJO3dCQUN2QixJQUNFbEI7b0JBQ1Y7Z0JBQ0osR0FBR21CLEtBQUssQ0FBQyxDQUFDQztvQkFDTixtQkFBbUI7b0JBQ25CZixRQUFRZSxLQUFLLENBQUMsQ0FBQyxxQkFBcUIsRUFBRXZCLFFBQVFVLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRWE7Z0JBQ2pFO1lBQ0o7WUFFQSxxQkFBcUI7WUFDckIsT0FBT3BCO1FBQ1gsRUFBRSxPQUFPb0IsT0FBTztZQUNaLGdCQUFnQjtZQUNoQmYsUUFBUWUsS0FBSyxDQUFDLENBQUMsNkJBQTZCLEVBQUVsQyxlQUFlLENBQUMsRUFBRUwsU0FBUyxFQUFFLENBQUMsRUFBRXVDO1lBRTlFLHFCQUFxQjtZQUNyQixPQUFPcEI7UUFDWDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmRlci1tYW5hZ2VtZW50LXN5c3RlbS8uL3NyYy9saWIvYWRkRHluYW1pY1RyaWdnZXJzLnRzP2ZjOTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb2xsZWN0aW9uQ29uZmlnIH0gZnJvbSAncGF5bG9hZCdcclxuaW1wb3J0IHsgZ2V0Q3VycmVudFRyaWdnZXJzIH0gZnJvbSAnLi9yZWdpc3RlckR5bmFtaWNIb29rcydcclxuaW1wb3J0IHsgZXhlY3V0ZVdlYmhvb2ssIGV2YWx1YXRlQ29uZGl0aW9uIH0gZnJvbSAnLi90cmlnZ2VyRW5naW5lJ1xyXG5cclxuLyoqXHJcbiAqIOeCuiBjb2xsZWN0aW9ucyDmt7vliqDli5XmhYvop7jnmbzlmaggaG9va3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGREeW5hbWljVHJpZ2dlcnNUb0NvbGxlY3Rpb25zKFxyXG4gICAgY29sbGVjdGlvbnM6IENvbGxlY3Rpb25Db25maWdbXVxyXG4pOiBDb2xsZWN0aW9uQ29uZmlnW10ge1xyXG5cclxuXHJcbiAgICByZXR1cm4gY29sbGVjdGlvbnMubWFwKChjb2xsZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaG9va3MgPSB7IC4uLmNvbGxlY3Rpb24uaG9va3MgfVxyXG5cclxuICAgICAgICAvLyDngrrmr4/lgIsgaG9vayDpoZ7lnovmt7vliqDli5XmhYvomZXnkIblh73mlbhcclxuICAgICAgICBjb25zdCBob29rVHlwZXMgPSBbJ2JlZm9yZUNoYW5nZScsICdhZnRlckNoYW5nZScsICdiZWZvcmVEZWxldGUnLCAnYWZ0ZXJEZWxldGUnLCAnYmVmb3JlUmVhZCcsICdhZnRlclJlYWQnXVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGhvb2tUeXBlIG9mIGhvb2tUeXBlcykge1xyXG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0hvb2tzID0gKGhvb2tzIGFzIGFueSlbaG9va1R5cGVdIHx8IFtdXHJcbiAgICAgICAgICAgIGNvbnN0IGR5bmFtaWNIb29rID0gY3JlYXRlRHluYW1pY0hvb2soaG9va1R5cGUsIGNvbGxlY3Rpb24uc2x1ZylcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDlsIfli5XmhYsgaG9vayDmt7vliqDliLDnj77mnIkgaG9va3Mg5LmL5b6MXHJcbiAgICAgICAgICAgICAgICA7IChob29rcyBhcyBhbnkpW2hvb2tUeXBlXSA9IFsuLi5leGlzdGluZ0hvb2tzLCBkeW5hbWljSG9va11cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLmNvbGxlY3Rpb24sXHJcbiAgICAgICAgICAgIGhvb2tzLFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlu7rnq4vli5XmhYsgaG9vayDlh73mlbhcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUR5bmFtaWNIb29rKGhvb2tUeXBlOiBzdHJpbmcsIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBhc3luYyAoYXJnczogYW55KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IHJlcSwgb3BlcmF0aW9uIH0gPSBhcmdzXHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gYXJncy5kYXRhXHJcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbERvYyA9IGFyZ3Mub3JpZ2luYWxEb2NcclxuXHJcbiAgICAgICAgICAgIC8vIOaomea6luWMluWPg+aVuDog5LiN5ZCMIGhvb2sg6aGe5Z6L55qE5Y+D5pW45ZCN56ix5LiN5ZCMXHJcbiAgICAgICAgICAgIC8vIGFmdGVyQ2hhbmdlOiBkb2MsIHByZXZpb3VzRG9jXHJcbiAgICAgICAgICAgIC8vIGFmdGVyRGVsZXRlOiBkb2NcclxuICAgICAgICAgICAgLy8gYWZ0ZXJSZWFkOiBkb2NcclxuICAgICAgICAgICAgaWYgKGhvb2tUeXBlID09PSAnYWZ0ZXJDaGFuZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhID0gYXJncy5kb2NcclxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRG9jID0gYXJncy5wcmV2aW91c0RvY1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhvb2tUeXBlID09PSAnYWZ0ZXJEZWxldGUnIHx8IGhvb2tUeXBlID09PSAnYWZ0ZXJSZWFkJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IGFyZ3MuZG9jXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIOW+nueVtuWJjei8ieWFpeeahOinuOeZvOWZqOS4reevqemBuOespuWQiOeahOinuOeZvOWZqFxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VHJpZ2dlcnMgPSBnZXRDdXJyZW50VHJpZ2dlcnMoKVxyXG4gICAgICAgICAgICBjb25zdCByZWxldmFudFRyaWdnZXJzID0gY3VycmVudFRyaWdnZXJzLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICh0cmlnZ2VyKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIudGFyZ2V0Q29sbGVjdGlvbiA9PT0gY29sbGVjdGlvblNsdWcgJiZcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmhvb2tUeXBlID09PSBob29rVHlwZVxyXG4gICAgICAgICAgICApXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGlmIChyZWxldmFudFRyaWdnZXJzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8g5rKS5pyJ55u46Zec6Ke455m85ZmoLOS4jeWBmuS7u+S9leS/ruaUuVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQgLy8g6L+U5ZueIHVuZGVmaW5lZCDooajnpLrkuI3kv67mlLnmlbjmk5pcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5rqW5YKZ5Z+36KGM5LiK5LiL5paHXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhLFxyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxEb2MsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiByZXE/LnVzZXIsXHJcbiAgICAgICAgICAgICAgICBvcGVyYXRpb24sXHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiBjb2xsZWN0aW9uU2x1ZyxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5Z+36KGM5omA5pyJ56ym5ZCI5qKd5Lu255qE6Ke455m85ZmoXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiByZWxldmFudFRyaWdnZXJzKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOaqouafpeaineS7tlxyXG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuY29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29uZGl0aW9uTWV0ID0gZXZhbHVhdGVDb25kaXRpb24odHJpZ2dlci5jb25kaXRpb24sIGNvbnRleHQpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY29uZGl0aW9uTWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbRHluYW1pYyBIb29rc10g6Ke455m85ZmoIFwiJHt0cmlnZ2VyLm5hbWV9XCIg5qKd5Lu25LiN56ymLCDot7PpgY7ln7fooYxgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyDln7fooYwgd2ViaG9vayAo6Z2e5ZCM5q2lLOS4jemYu+WhnuS4u+a1geeoiylcclxuICAgICAgICAgICAgICAgIGV4ZWN1dGVXZWJob29rKHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VySWQ6IHRyaWdnZXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlck5hbWU6IHRyaWdnZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWJob29rVXJsOiB0cmlnZ2VyLndlYmhvb2tVcmwsXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cE1ldGhvZDogdHJpZ2dlci5odHRwTWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHRyaWdnZXIuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0cmlnZ2VyLnRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlDb3VudDogdHJpZ2dlci5yZXRyeUNvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50RGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob29rVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvblNsdWcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEb2MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHJlcT8udXNlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlcS51c2VyLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiByZXEudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiByZXEudXNlci5yb2xlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOaNleeNsumMr+iqpOS9huS4jeaLi+WHuizpgb/lhY3lvbHpn7/kuLvmtYHnqItcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBbRHluYW1pYyBIb29rc10g6Ke455m85ZmoIFwiJHt0cmlnZ2VyLm5hbWV9XCIg5Z+36KGM5aSx5pWXOmAsIGVycm9yKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8g5LiN5L+u5pS55pW45pOaLOi/lOWbniB1bmRlZmluZWRcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIOaNleeNsuaJgOaciemMr+iqpCzpgb/lhY3kuK3mlrfoq4vmsYJcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgW0R5bmFtaWMgSG9va3NdIOKclyBIb29rIOWft+ihjOmMr+iqpCAoJHtjb2xsZWN0aW9uU2x1Z30uJHtob29rVHlwZX0pOmAsIGVycm9yKVxyXG5cclxuICAgICAgICAgICAgLy8g6L+U5ZueIHVuZGVmaW5lZCzkuI3kv67mlLnmlbjmk5pcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZ2V0Q3VycmVudFRyaWdnZXJzIiwiZXhlY3V0ZVdlYmhvb2siLCJldmFsdWF0ZUNvbmRpdGlvbiIsImFkZER5bmFtaWNUcmlnZ2Vyc1RvQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9ucyIsIm1hcCIsImNvbGxlY3Rpb24iLCJob29rcyIsImhvb2tUeXBlcyIsImhvb2tUeXBlIiwiZXhpc3RpbmdIb29rcyIsImR5bmFtaWNIb29rIiwiY3JlYXRlRHluYW1pY0hvb2siLCJzbHVnIiwiY29sbGVjdGlvblNsdWciLCJhcmdzIiwicmVxIiwib3BlcmF0aW9uIiwiZGF0YSIsIm9yaWdpbmFsRG9jIiwiZG9jIiwicHJldmlvdXNEb2MiLCJjdXJyZW50VHJpZ2dlcnMiLCJyZWxldmFudFRyaWdnZXJzIiwiZmlsdGVyIiwidHJpZ2dlciIsInRhcmdldENvbGxlY3Rpb24iLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjb250ZXh0IiwidXNlciIsImNvbmRpdGlvbiIsImNvbmRpdGlvbk1ldCIsImNvbnNvbGUiLCJsb2ciLCJuYW1lIiwidHJpZ2dlcklkIiwiaWQiLCJ0cmlnZ2VyTmFtZSIsIndlYmhvb2tVcmwiLCJodHRwTWV0aG9kIiwiaGVhZGVycyIsInRpbWVvdXQiLCJyZXRyeUNvdW50IiwiZXZlbnREYXRhIiwiZW1haWwiLCJyb2xlIiwiY2F0Y2giLCJlcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/addDynamicTriggers.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/registerDynamicHooks.ts":
/*!*****************************************!*\
  !*** ./src/lib/registerDynamicHooks.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentTriggers: () => (/* binding */ getCurrentTriggers),\n/* harmony export */   reloadTriggers: () => (/* binding */ reloadTriggers)\n/* harmony export */ });\n// 全域變數儲存當前載入的觸發器\nlet currentTriggers = [];\nlet payloadInstance = null;\n/**\r\n * 重新載入所有觸發器\r\n */ async function reloadTriggers(payload) {\n    // 如果提供了 payload 參數,使用它並更新全域實例\n    if (payload) {\n        payloadInstance = payload;\n    }\n    if (!payloadInstance) {\n        console.error('[Dynamic Hooks] Payload 實例未初始化');\n        return;\n    }\n    try {\n        // 載入所有已啟用的觸發器\n        const triggers = await loadTriggers(payloadInstance);\n        currentTriggers = triggers;\n        // 列出每個觸發器的詳細資訊\n        for (const trigger of triggers){}\n    } catch (error) {\n        console.error('[Dynamic Hooks] 重新載入觸發器失敗:', error);\n    }\n}\n/**\r\n * 取得當前載入的觸發器\r\n */ function getCurrentTriggers() {\n    return currentTriggers;\n}\n/**\r\n * 從資料庫載入所有已啟用的觸發器\r\n */ async function loadTriggers(payload) {\n    try {\n        const { docs } = await payload.find({\n            collection: 'triggers',\n            where: {\n                enabled: {\n                    equals: true\n                }\n            },\n            limit: 1000\n        });\n        return docs.map((doc)=>({\n                id: doc.id,\n                name: doc.name,\n                enabled: doc.enabled,\n                targetCollection: doc.targetCollection,\n                hookType: doc.hookType,\n                webhookUrl: doc.webhookUrl,\n                httpMethod: doc.httpMethod,\n                headers: doc.headers,\n                condition: doc.condition,\n                timeout: doc.timeout,\n                retryCount: doc.retryCount\n            }));\n    } catch (error) {\n        return [];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3JlZ2lzdGVyRHluYW1pY0hvb2tzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBb0JBLGlCQUFpQjtBQUNqQixJQUFJQSxrQkFBNkIsRUFBRTtBQUNuQyxJQUFJQyxrQkFBa0M7QUFFdEM7O0NBRUMsR0FDTSxlQUFlQyxlQUFlQyxPQUFpQjtJQUNsRCw4QkFBOEI7SUFDOUIsSUFBSUEsU0FBUztRQUNURixrQkFBa0JFO0lBQ3RCO0lBRUEsSUFBSSxDQUFDRixpQkFBaUI7UUFDbEJHLFFBQVFDLEtBQUssQ0FBQztRQUNkO0lBQ0o7SUFFQSxJQUFJO1FBR0EsY0FBYztRQUNkLE1BQU1DLFdBQVcsTUFBTUMsYUFBYU47UUFDcENELGtCQUFrQk07UUFJbEIsZUFBZTtRQUNmLEtBQUssTUFBTUUsV0FBV0YsU0FBVSxDQUVoQztJQUNKLEVBQUUsT0FBT0QsT0FBTztRQUNaRCxRQUFRQyxLQUFLLENBQUMsOEJBQThCQTtJQUNoRDtBQUNKO0FBRUE7O0NBRUMsR0FDTSxTQUFTSTtJQUNaLE9BQU9UO0FBQ1g7QUFFQTs7Q0FFQyxHQUNELGVBQWVPLGFBQWFKLE9BQWdCO0lBQ3hDLElBQUk7UUFDQSxNQUFNLEVBQUVPLElBQUksRUFBRSxHQUFHLE1BQU1QLFFBQVFRLElBQUksQ0FBQztZQUNoQ0MsWUFBWTtZQUNaQyxPQUFPO2dCQUNIQyxTQUFTO29CQUNMQyxRQUFRO2dCQUNaO1lBQ0o7WUFDQUMsT0FBTztRQUNYO1FBRUEsT0FBT04sS0FBS08sR0FBRyxDQUFDLENBQUNDLE1BQWM7Z0JBQzNCQyxJQUFJRCxJQUFJQyxFQUFFO2dCQUNWQyxNQUFNRixJQUFJRSxJQUFJO2dCQUNkTixTQUFTSSxJQUFJSixPQUFPO2dCQUNwQk8sa0JBQWtCSCxJQUFJRyxnQkFBZ0I7Z0JBQ3RDQyxVQUFVSixJQUFJSSxRQUFRO2dCQUN0QkMsWUFBWUwsSUFBSUssVUFBVTtnQkFDMUJDLFlBQVlOLElBQUlNLFVBQVU7Z0JBQzFCQyxTQUFTUCxJQUFJTyxPQUFPO2dCQUNwQkMsV0FBV1IsSUFBSVEsU0FBUztnQkFDeEJDLFNBQVNULElBQUlTLE9BQU87Z0JBQ3BCQyxZQUFZVixJQUFJVSxVQUFVO1lBQzlCO0lBQ0osRUFBRSxPQUFPdkIsT0FBTztRQUVaLE9BQU8sRUFBRTtJQUNiO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vcmRlci1tYW5hZ2VtZW50LXN5c3RlbS8uL3NyYy9saWIvcmVnaXN0ZXJEeW5hbWljSG9va3MudHM/ZDA1NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBheWxvYWQgfSBmcm9tICdwYXlsb2FkJ1xyXG5cclxuLyoqXHJcbiAqIOWLleaFiyBIb29rIOiou+WGiuezu+e1sVxyXG4gKi9cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVHJpZ2dlciB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW5cclxuICAgIHRhcmdldENvbGxlY3Rpb246IHN0cmluZ1xyXG4gICAgaG9va1R5cGU6IHN0cmluZ1xyXG4gICAgd2ViaG9va1VybDogc3RyaW5nXHJcbiAgICBodHRwTWV0aG9kOiBzdHJpbmdcclxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+XHJcbiAgICBjb25kaXRpb24/OiBzdHJpbmdcclxuICAgIHRpbWVvdXQ/OiBudW1iZXJcclxuICAgIHJldHJ5Q291bnQ/OiBudW1iZXJcclxufVxyXG5cclxuLy8g5YWo5Z+f6K6K5pW45YSy5a2Y55W25YmN6LyJ5YWl55qE6Ke455m85ZmoXHJcbmxldCBjdXJyZW50VHJpZ2dlcnM6IFRyaWdnZXJbXSA9IFtdXHJcbmxldCBwYXlsb2FkSW5zdGFuY2U6IFBheWxvYWQgfCBudWxsID0gbnVsbFxyXG5cclxuLyoqXHJcbiAqIOmHjeaWsOi8ieWFpeaJgOacieinuOeZvOWZqFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbG9hZFRyaWdnZXJzKHBheWxvYWQ/OiBQYXlsb2FkKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAvLyDlpoLmnpzmj5DkvpvkuoYgcGF5bG9hZCDlj4Pmlbgs5L2/55So5a6D5Lim5pu05paw5YWo5Z+f5a+m5L6LXHJcbiAgICBpZiAocGF5bG9hZCkge1xyXG4gICAgICAgIHBheWxvYWRJbnN0YW5jZSA9IHBheWxvYWRcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBheWxvYWRJbnN0YW5jZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEeW5hbWljIEhvb2tzXSBQYXlsb2FkIOWvpuS+i+acquWIneWni+WMlicpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcblxyXG4gICAgICAgIC8vIOi8ieWFpeaJgOacieW3suWVn+eUqOeahOinuOeZvOWZqFxyXG4gICAgICAgIGNvbnN0IHRyaWdnZXJzID0gYXdhaXQgbG9hZFRyaWdnZXJzKHBheWxvYWRJbnN0YW5jZSlcclxuICAgICAgICBjdXJyZW50VHJpZ2dlcnMgPSB0cmlnZ2Vyc1xyXG5cclxuXHJcblxyXG4gICAgICAgIC8vIOWIl+WHuuavj+WAi+inuOeZvOWZqOeahOips+e0sOizh+ioilxyXG4gICAgICAgIGZvciAoY29uc3QgdHJpZ2dlciBvZiB0cmlnZ2Vycykge1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tEeW5hbWljIEhvb2tzXSDph43mlrDovInlhaXop7jnmbzlmajlpLHmlZc6JywgZXJyb3IpXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlj5blvpfnlbbliY3ovInlhaXnmoTop7jnmbzlmahcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50VHJpZ2dlcnMoKTogVHJpZ2dlcltdIHtcclxuICAgIHJldHVybiBjdXJyZW50VHJpZ2dlcnNcclxufVxyXG5cclxuLyoqXHJcbiAqIOW+nuizh+aWmeW6q+i8ieWFpeaJgOacieW3suWVn+eUqOeahOinuOeZvOWZqFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gbG9hZFRyaWdnZXJzKHBheWxvYWQ6IFBheWxvYWQpOiBQcm9taXNlPFRyaWdnZXJbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRvY3MgfSA9IGF3YWl0IHBheWxvYWQuZmluZCh7XHJcbiAgICAgICAgICAgIGNvbGxlY3Rpb246ICd0cmlnZ2VycycgYXMgY29uc3QsXHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXF1YWxzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGltaXQ6IDEwMDAsXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGRvY3MubWFwKChkb2M6IGFueSkgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgbmFtZTogZG9jLm5hbWUsXHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGRvYy5lbmFibGVkLFxyXG4gICAgICAgICAgICB0YXJnZXRDb2xsZWN0aW9uOiBkb2MudGFyZ2V0Q29sbGVjdGlvbixcclxuICAgICAgICAgICAgaG9va1R5cGU6IGRvYy5ob29rVHlwZSxcclxuICAgICAgICAgICAgd2ViaG9va1VybDogZG9jLndlYmhvb2tVcmwsXHJcbiAgICAgICAgICAgIGh0dHBNZXRob2Q6IGRvYy5odHRwTWV0aG9kLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiBkb2MuaGVhZGVycyxcclxuICAgICAgICAgICAgY29uZGl0aW9uOiBkb2MuY29uZGl0aW9uLFxyXG4gICAgICAgICAgICB0aW1lb3V0OiBkb2MudGltZW91dCxcclxuICAgICAgICAgICAgcmV0cnlDb3VudDogZG9jLnJldHJ5Q291bnQsXHJcbiAgICAgICAgfSkpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG5cclxuICAgICAgICByZXR1cm4gW11cclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY3VycmVudFRyaWdnZXJzIiwicGF5bG9hZEluc3RhbmNlIiwicmVsb2FkVHJpZ2dlcnMiLCJwYXlsb2FkIiwiY29uc29sZSIsImVycm9yIiwidHJpZ2dlcnMiLCJsb2FkVHJpZ2dlcnMiLCJ0cmlnZ2VyIiwiZ2V0Q3VycmVudFRyaWdnZXJzIiwiZG9jcyIsImZpbmQiLCJjb2xsZWN0aW9uIiwid2hlcmUiLCJlbmFibGVkIiwiZXF1YWxzIiwibGltaXQiLCJtYXAiLCJkb2MiLCJpZCIsIm5hbWUiLCJ0YXJnZXRDb2xsZWN0aW9uIiwiaG9va1R5cGUiLCJ3ZWJob29rVXJsIiwiaHR0cE1ldGhvZCIsImhlYWRlcnMiLCJjb25kaXRpb24iLCJ0aW1lb3V0IiwicmV0cnlDb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/registerDynamicHooks.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/triggerEngine.ts":
/*!**********************************!*\
  !*** ./src/lib/triggerEngine.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   evaluateCondition: () => (/* binding */ evaluateCondition),\n/* harmony export */   executeWebhook: () => (/* binding */ executeWebhook)\n/* harmony export */ });\n/**\r\n * 執行 webhook 呼叫\r\n */ async function executeWebhook(context) {\n    const { webhookUrl, httpMethod, headers, timeout, retryCount, eventData } = context;\n    // 準備 webhook payload\n    const serializedData = serializeData(eventData.data);\n    const payload = {\n        trigger: {\n            id: context.triggerId,\n            name: context.triggerName,\n            hookType: eventData.hookType || 'unknown',\n            targetCollection: eventData.collection || 'unknown'\n        },\n        event: {\n            operation: eventData.operation || 'unknown',\n            collection: eventData.collection || 'unknown',\n            timestamp: new Date().toISOString()\n        },\n        data: serializedData,\n        originalDoc: eventData.originalDoc ? serializeData(eventData.originalDoc) : undefined,\n        user: eventData.user ? {\n            id: eventData.user.id,\n            email: eventData.user.email,\n            role: eventData.user.role\n        } : undefined\n    };\n    // 執行 webhook 呼叫(包含重試邏輯)\n    const maxAttempts = (retryCount || 0) + 1;\n    let lastError = null;\n    for(let attempt = 1; attempt <= maxAttempts; attempt++){\n        try {\n            await callWebhook(webhookUrl, httpMethod, payload, headers, timeout);\n            // 成功則返回\n            return;\n        } catch (error) {\n            lastError = error;\n            console.error(`[Trigger Engine] ✗ Webhook 呼叫失敗 (嘗試 ${attempt}/${maxAttempts}):`, error);\n            // 如果還有重試次數,等待後重試\n            if (attempt < maxAttempts) {\n                // 指數退避: 1秒, 2秒, 4秒...\n                const delay = Math.pow(2, attempt - 1) * 1000;\n                await sleep(delay);\n            }\n        }\n    }\n    // 所有重試都失敗\n    console.error(`[Trigger Engine] ✗✗✗ Webhook 呼叫最終失敗 (${context.triggerName}):`, lastError);\n// 不拋出錯誤,避免中斷主流程\n}\n/**\r\n * 實際呼叫 webhook\r\n */ async function callWebhook(url, method, payload, headers, timeout = 5000) {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(()=>controller.abort(), timeout);\n    try {\n        const requestHeaders = {\n            'Content-Type': 'application/json',\n            ...headers\n        };\n        const options = {\n            method: method,\n            headers: requestHeaders,\n            signal: controller.signal\n        };\n        // GET 方法不需要 body\n        if (method !== 'GET') {\n            const bodyString = JSON.stringify(payload);\n            options.body = bodyString;\n        }\n        const response = await fetch(url, options);\n        if (!response.ok) {\n            throw new Error(`Webhook 回應失敗: ${response.status} ${response.statusText}`);\n        }\n    } finally{\n        clearTimeout(timeoutId);\n    }\n}\n/**\r\n * 序列化資料,移除循環引用和不可序列化的內容\r\n */ function serializeData(data) {\n    if (!data) return data;\n    try {\n        // 使用 JSON.stringify/parse 來深度複製並移除不可序列化的內容\n        return JSON.parse(JSON.stringify(data));\n    } catch (error) {\n        console.error('[Trigger Engine] 資料序列化失敗:', error);\n        return {};\n    }\n}\n/**\r\n * 延遲函數\r\n */ function sleep(ms) {\n    return new Promise((resolve)=>setTimeout(resolve, ms));\n}\n/**\r\n * 檢查觸發條件\r\n * @param condition JavaScript 表達式字串\r\n * @param context 執行上下文 (包含 data, originalDoc 等)\r\n * @returns 是否符合條件\r\n */ function evaluateCondition(condition, context) {\n    if (!condition || condition.trim() === '') {\n        return true // 沒有條件則總是執行\n        ;\n    }\n    try {\n        // 使用 Function 建構子建立條件判斷函數\n        // 注意: 這裡只用於簡單的條件判斷,不執行複雜的代碼\n        const func = new Function('data', 'originalDoc', 'user', `return ${condition}`);\n        const result = func(context.data, context.originalDoc, context.user);\n        // Debug logging to file\n        try {\n            const fs = __webpack_require__(/*! fs */ \"fs\");\n            const path = __webpack_require__(/*! path */ \"path\");\n            const logPath = path.join(process.cwd(), 'trigger_debug.log');\n            const logEntry = `[${new Date().toISOString()}] Condition: \"${condition}\" | Result: ${result} | DataStatus: ${context.data?.status}\\n`;\n            fs.appendFileSync(logPath, logEntry);\n        } catch (e) {\n        // ignore file write error\n        }\n        console.log(`[Trigger Engine] 條件評估: \"${condition}\"`, {\n            dataStatus: context.data?.status,\n            result\n        });\n        return result;\n    } catch (error) {\n        console.error('[Trigger Engine] 條件判斷執行失敗:', error);\n        return false // 條件判斷失敗則不執行\n        ;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxDQUFDO1lBQ3RJYSxHQUFHUSxjQUFjLENBQUNMLFNBQVNJO1FBQy9CLEVBQUUsT0FBT0UsR0FBRztRQUNSLDBCQUEwQjtRQUM5QjtRQUVBN0MsUUFBUThDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixFQUFFZixVQUFVLENBQUMsQ0FBQyxFQUFFO1lBQ2pEZ0IsWUFBWWpGLFFBQVFTLElBQUksRUFBRWdEO1lBQzFCWTtRQUNKO1FBQ0EsT0FBT0E7SUFDWCxFQUFFLE9BQU9wQyxPQUFPO1FBQ1pDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1FBQzVDLE9BQU8sTUFBTSxhQUFhOztJQUM5QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb3JkZXItbWFuYWdlbWVudC1zeXN0ZW0vLi9zcmMvbGliL3RyaWdnZXJFbmdpbmUudHM/ZDI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFBheWxvYWQgfSBmcm9tICdwYXlsb2FkJ1xyXG5cclxuLyoqXHJcbiAqIOinuOeZvOWZqOWft+ihjOW8leaTjlxyXG4gKiDosqDosqzlkbzlj6sgd2ViaG9vayDkuKbomZXnkIbpjK/oqqToiIfph43oqabpgo/ovK9cclxuICovXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRyaWdnZXJFeGVjdXRpb25Db250ZXh0IHtcclxuICAgIHRyaWdnZXJJZDogc3RyaW5nXHJcbiAgICB0cmlnZ2VyTmFtZTogc3RyaW5nXHJcbiAgICB3ZWJob29rVXJsOiBzdHJpbmdcclxuICAgIGh0dHBNZXRob2Q6IHN0cmluZ1xyXG4gICAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz5cclxuICAgIHRpbWVvdXQ/OiBudW1iZXJcclxuICAgIHJldHJ5Q291bnQ/OiBudW1iZXJcclxuICAgIGV2ZW50RGF0YTogYW55XHJcbn1cclxuXHJcbmludGVyZmFjZSBXZWJob29rUGF5bG9hZCB7XHJcbiAgICB0cmlnZ2VyOiB7XHJcbiAgICAgICAgaWQ6IHN0cmluZ1xyXG4gICAgICAgIG5hbWU6IHN0cmluZ1xyXG4gICAgICAgIGhvb2tUeXBlOiBzdHJpbmdcclxuICAgICAgICB0YXJnZXRDb2xsZWN0aW9uOiBzdHJpbmdcclxuICAgIH1cclxuICAgIGV2ZW50OiB7XHJcbiAgICAgICAgb3BlcmF0aW9uOiBzdHJpbmdcclxuICAgICAgICBjb2xsZWN0aW9uOiBzdHJpbmdcclxuICAgICAgICB0aW1lc3RhbXA6IHN0cmluZ1xyXG4gICAgfVxyXG4gICAgZGF0YTogYW55XHJcbiAgICBvcmlnaW5hbERvYz86IGFueVxyXG4gICAgdXNlcj86IHtcclxuICAgICAgICBpZDogc3RyaW5nXHJcbiAgICAgICAgZW1haWw6IHN0cmluZ1xyXG4gICAgICAgIHJvbGU6IHN0cmluZ1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5Z+36KGMIHdlYmhvb2sg5ZG85Y+rXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVdlYmhvb2soY29udGV4dDogVHJpZ2dlckV4ZWN1dGlvbkNvbnRleHQpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHsgd2ViaG9va1VybCwgaHR0cE1ldGhvZCwgaGVhZGVycywgdGltZW91dCwgcmV0cnlDb3VudCwgZXZlbnREYXRhIH0gPSBjb250ZXh0XHJcblxyXG5cclxuXHJcbiAgICAvLyDmupblgpkgd2ViaG9vayBwYXlsb2FkXHJcblxyXG5cclxuICAgIGNvbnN0IHNlcmlhbGl6ZWREYXRhID0gc2VyaWFsaXplRGF0YShldmVudERhdGEuZGF0YSlcclxuXHJcblxyXG4gICAgY29uc3QgcGF5bG9hZDogV2ViaG9va1BheWxvYWQgPSB7XHJcbiAgICAgICAgdHJpZ2dlcjoge1xyXG4gICAgICAgICAgICBpZDogY29udGV4dC50cmlnZ2VySWQsXHJcbiAgICAgICAgICAgIG5hbWU6IGNvbnRleHQudHJpZ2dlck5hbWUsXHJcbiAgICAgICAgICAgIGhvb2tUeXBlOiBldmVudERhdGEuaG9va1R5cGUgfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgICB0YXJnZXRDb2xsZWN0aW9uOiBldmVudERhdGEuY29sbGVjdGlvbiB8fCAndW5rbm93bicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBldmVudDoge1xyXG4gICAgICAgICAgICBvcGVyYXRpb246IGV2ZW50RGF0YS5vcGVyYXRpb24gfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgICBjb2xsZWN0aW9uOiBldmVudERhdGEuY29sbGVjdGlvbiB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0YTogc2VyaWFsaXplZERhdGEsXHJcbiAgICAgICAgb3JpZ2luYWxEb2M6IGV2ZW50RGF0YS5vcmlnaW5hbERvYyA/IHNlcmlhbGl6ZURhdGEoZXZlbnREYXRhLm9yaWdpbmFsRG9jKSA6IHVuZGVmaW5lZCxcclxuICAgICAgICB1c2VyOiBldmVudERhdGEudXNlclxyXG4gICAgICAgICAgICA/IHtcclxuICAgICAgICAgICAgICAgIGlkOiBldmVudERhdGEudXNlci5pZCxcclxuICAgICAgICAgICAgICAgIGVtYWlsOiBldmVudERhdGEudXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgIHJvbGU6IGV2ZW50RGF0YS51c2VyLnJvbGUsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvLyDln7fooYwgd2ViaG9vayDlkbzlj6so5YyF5ZCr6YeN6Kmm6YKP6LyvKVxyXG4gICAgY29uc3QgbWF4QXR0ZW1wdHMgPSAocmV0cnlDb3VudCB8fCAwKSArIDFcclxuICAgIGxldCBsYXN0RXJyb3I6IEVycm9yIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBmb3IgKGxldCBhdHRlbXB0ID0gMTsgYXR0ZW1wdCA8PSBtYXhBdHRlbXB0czsgYXR0ZW1wdCsrKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGF3YWl0IGNhbGxXZWJob29rKHdlYmhvb2tVcmwsIGh0dHBNZXRob2QsIHBheWxvYWQsIGhlYWRlcnMsIHRpbWVvdXQpXHJcblxyXG4gICAgICAgICAgICAvLyDmiJDlip/liYfov5Tlm55cclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgbGFzdEVycm9yID0gZXJyb3IgYXMgRXJyb3JcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgICAgIGBbVHJpZ2dlciBFbmdpbmVdIOKclyBXZWJob29rIOWRvOWPq+WkseaVlyAo5ZiX6KmmICR7YXR0ZW1wdH0vJHttYXhBdHRlbXB0c30pOmAsXHJcbiAgICAgICAgICAgICAgICBlcnJvclxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgICAgICAvLyDlpoLmnpzpgoTmnInph43oqabmrKHmlbgs562J5b6F5b6M6YeN6KmmXHJcbiAgICAgICAgICAgIGlmIChhdHRlbXB0IDwgbWF4QXR0ZW1wdHMpIHtcclxuICAgICAgICAgICAgICAgIC8vIOaMh+aVuOmAgOmBvzogMeenkiwgMuenkiwgNOenki4uLlxyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBNYXRoLnBvdygyLCBhdHRlbXB0IC0gMSkgKiAxMDAwXHJcblxyXG4gICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoZGVsYXkpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5omA5pyJ6YeN6Kmm6YO95aSx5pWXXHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIGBbVHJpZ2dlciBFbmdpbmVdIOKcl+Kcl+KclyBXZWJob29rIOWRvOWPq+acgOe1guWkseaVlyAoJHtjb250ZXh0LnRyaWdnZXJOYW1lfSk6YCxcclxuICAgICAgICBsYXN0RXJyb3JcclxuICAgIClcclxuICAgIC8vIOS4jeaLi+WHuumMr+iqpCzpgb/lhY3kuK3mlrfkuLvmtYHnqItcclxufVxyXG5cclxuLyoqXHJcbiAqIOWvpumam+WRvOWPqyB3ZWJob29rXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjYWxsV2ViaG9vayhcclxuICAgIHVybDogc3RyaW5nLFxyXG4gICAgbWV0aG9kOiBzdHJpbmcsXHJcbiAgICBwYXlsb2FkOiBXZWJob29rUGF5bG9hZCxcclxuICAgIGhlYWRlcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxyXG4gICAgdGltZW91dDogbnVtYmVyID0gNTAwMFxyXG4pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcclxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgIC4uLmhlYWRlcnMsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvcHRpb25zOiBSZXF1ZXN0SW5pdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHJlcXVlc3RIZWFkZXJzLFxyXG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR0VUIOaWueazleS4jemcgOimgSBib2R5XHJcbiAgICAgICAgaWYgKG1ldGhvZCAhPT0gJ0dFVCcpIHtcclxuICAgICAgICAgICAgY29uc3QgYm9keVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXHJcblxyXG4gICAgICAgICAgICBvcHRpb25zLmJvZHkgPSBib2R5U3RyaW5nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgb3B0aW9ucylcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICBgV2ViaG9vayDlm57mh4nlpLHmlZc6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDluo/liJfljJbos4fmlpks56e76Zmk5b6q55Kw5byV55So5ZKM5LiN5Y+v5bqP5YiX5YyW55qE5YWn5a65XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXJpYWxpemVEYXRhKGRhdGE6IGFueSk6IGFueSB7XHJcbiAgICBpZiAoIWRhdGEpIHJldHVybiBkYXRhXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyDkvb/nlKggSlNPTi5zdHJpbmdpZnkvcGFyc2Ug5L6G5rex5bqm6KSH6KO95Lim56e76Zmk5LiN5Y+v5bqP5YiX5YyW55qE5YWn5a65XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUcmlnZ2VyIEVuZ2luZV0g6LOH5paZ5bqP5YiX5YyW5aSx5pWXOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiB7fVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5bu26YGy5Ye95pW4XHJcbiAqL1xyXG5mdW5jdGlvbiBzbGVlcChtczogbnVtYmVyKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKVxyXG59XHJcblxyXG4vKipcclxuICog5qqi5p+l6Ke455m85qKd5Lu2XHJcbiAqIEBwYXJhbSBjb25kaXRpb24gSmF2YVNjcmlwdCDooajpgZTlvI/lrZfkuLJcclxuICogQHBhcmFtIGNvbnRleHQg5Z+36KGM5LiK5LiL5paHICjljIXlkKsgZGF0YSwgb3JpZ2luYWxEb2Mg562JKVxyXG4gKiBAcmV0dXJucyDmmK/lkKbnrKblkIjmop3ku7ZcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBldmFsdWF0ZUNvbmRpdGlvbihjb25kaXRpb246IHN0cmluZywgY29udGV4dDogYW55KTogYm9vbGVhbiB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbiB8fCBjb25kaXRpb24udHJpbSgpID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlIC8vIOaykuacieaineS7tuWJh+e4veaYr+Wft+ihjFxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8g5L2/55SoIEZ1bmN0aW9uIOW7uuani+WtkOW7uueri+aineS7tuWIpOaWt+WHveaVuFxyXG4gICAgICAgIC8vIOazqOaEjzog6YCZ6KOh5Y+q55So5pa857Ch5Zau55qE5qKd5Lu25Yik5pa3LOS4jeWft+ihjOikh+mbnOeahOS7o+eivFxyXG4gICAgICAgIGNvbnN0IGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ2RhdGEnLCAnb3JpZ2luYWxEb2MnLCAndXNlcicsIGByZXR1cm4gJHtjb25kaXRpb259YClcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBmdW5jKGNvbnRleHQuZGF0YSwgY29udGV4dC5vcmlnaW5hbERvYywgY29udGV4dC51c2VyKVxyXG5cclxuICAgICAgICAvLyBEZWJ1ZyBsb2dnaW5nIHRvIGZpbGVcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ1BhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3RyaWdnZXJfZGVidWcubG9nJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ0VudHJ5ID0gYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dIENvbmRpdGlvbjogXCIke2NvbmRpdGlvbn1cIiB8IFJlc3VsdDogJHtyZXN1bHR9IHwgRGF0YVN0YXR1czogJHtjb250ZXh0LmRhdGE/LnN0YXR1c31cXG5gO1xyXG4gICAgICAgICAgICBmcy5hcHBlbmRGaWxlU3luYyhsb2dQYXRoLCBsb2dFbnRyeSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBpZ25vcmUgZmlsZSB3cml0ZSBlcnJvclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYFtUcmlnZ2VyIEVuZ2luZV0g5qKd5Lu26KmV5LywOiBcIiR7Y29uZGl0aW9ufVwiYCwge1xyXG4gICAgICAgICAgICBkYXRhU3RhdHVzOiBjb250ZXh0LmRhdGE/LnN0YXR1cyxcclxuICAgICAgICAgICAgcmVzdWx0XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tUcmlnZ2VyIEVuZ2luZV0g5qKd5Lu25Yik5pa35Z+36KGM5aSx5pWXOicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBmYWxzZSAvLyDmop3ku7bliKTmlrflpLHmlZfliYfkuI3ln7fooYxcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZXhlY3V0ZVdlYmhvb2siLCJjb250ZXh0Iiwid2ViaG9va1VybCIsImh0dHBNZXRob2QiLCJoZWFkZXJzIiwidGltZW91dCIsInJldHJ5Q291bnQiLCJldmVudERhdGEiLCJzZXJpYWxpemVkRGF0YSIsInNlcmlhbGl6ZURhdGEiLCJkYXRhIiwicGF5bG9hZCIsInRyaWdnZXIiLCJpZCIsInRyaWdnZXJJZCIsIm5hbWUiLCJ0cmlnZ2VyTmFtZSIsImhvb2tUeXBlIiwidGFyZ2V0Q29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJldmVudCIsIm9wZXJhdGlvbiIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm9yaWdpbmFsRG9jIiwidW5kZWZpbmVkIiwidXNlciIsImVtYWlsIiwicm9sZSIsIm1heEF0dGVtcHRzIiwibGFzdEVycm9yIiwiYXR0ZW1wdCIsImNhbGxXZWJob29rIiwiZXJyb3IiLCJjb25zb2xlIiwiZGVsYXkiLCJNYXRoIiwicG93Iiwic2xlZXAiLCJ1cmwiLCJtZXRob2QiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwicmVxdWVzdEhlYWRlcnMiLCJvcHRpb25zIiwic2lnbmFsIiwiYm9keVN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJib2R5IiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwiY2xlYXJUaW1lb3V0IiwicGFyc2UiLCJtcyIsIlByb21pc2UiLCJyZXNvbHZlIiwiZXZhbHVhdGVDb25kaXRpb24iLCJjb25kaXRpb24iLCJ0cmltIiwiZnVuYyIsIkZ1bmN0aW9uIiwicmVzdWx0IiwiZnMiLCJyZXF1aXJlIiwicGF0aCIsImxvZ1BhdGgiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImxvZ0VudHJ5IiwiYXBwZW5kRmlsZVN5bmMiLCJlIiwibG9nIiwiZGF0YVN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/triggerEngine.ts\n");

/***/ }),

/***/ "(rsc)/./src/payload.config.ts":
/*!*******************************!*\
  !*** ./src/payload.config.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _payloadcms_db_mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @payloadcms/db-mongodb */ \"(rsc)/./node_modules/@payloadcms/db-mongodb/dist/index.js\");\n/* harmony import */ var _payloadcms_payload_cloud__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @payloadcms/payload-cloud */ \"(rsc)/./node_modules/@payloadcms/payload-cloud/dist/index.js\");\n/* harmony import */ var _payloadcms_richtext_lexical__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @payloadcms/richtext-lexical */ \"(rsc)/./node_modules/@payloadcms/richtext-lexical/dist/index.js\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var payload__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! payload */ \"(rsc)/./node_modules/payload/dist/config/build.js\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! url */ \"url\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sharp */ \"sharp\");\n/* harmony import */ var sharp__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(sharp__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _collections_Users__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./collections/Users */ \"(rsc)/./src/collections/Users.ts\");\n/* harmony import */ var _collections_Media__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./collections/Media */ \"(rsc)/./src/collections/Media.ts\");\n/* harmony import */ var _collections_Customers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./collections/Customers */ \"(rsc)/./src/collections/Customers.ts\");\n/* harmony import */ var _collections_Products__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./collections/Products */ \"(rsc)/./src/collections/Products.ts\");\n/* harmony import */ var _collections_Orders__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./collections/Orders */ \"(rsc)/./src/collections/Orders.ts\");\n/* harmony import */ var _collections_Triggers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./collections/Triggers */ \"(rsc)/./src/collections/Triggers.ts\");\n/* harmony import */ var _plugins_dynamicTriggers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./plugins/dynamicTriggers */ \"(rsc)/./src/plugins/dynamicTriggers.ts\");\n/* harmony import */ var _lib_addDynamicTriggers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./lib/addDynamicTriggers */ \"(rsc)/./src/lib/addDynamicTriggers.ts\");\n// storage-adapter-import-placeholder\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst filename = (0,url__WEBPACK_IMPORTED_MODULE_3__.fileURLToPath)(\"file:///C:/Users/anthony/Desktop/payload/order-management-system/src/payload.config.ts\");\nconst dirname = path__WEBPACK_IMPORTED_MODULE_2___default().dirname(filename);\n// 為所有 collections 添加動態觸發器 hooks\nconst collectionsWithDynamicHooks = (0,_lib_addDynamicTriggers__WEBPACK_IMPORTED_MODULE_12__.addDynamicTriggersToCollections)([\n    _collections_Users__WEBPACK_IMPORTED_MODULE_5__.Users,\n    _collections_Media__WEBPACK_IMPORTED_MODULE_6__.Media,\n    _collections_Customers__WEBPACK_IMPORTED_MODULE_7__.Customers,\n    _collections_Products__WEBPACK_IMPORTED_MODULE_8__.Products,\n    _collections_Orders__WEBPACK_IMPORTED_MODULE_9__.Orders,\n    _collections_Triggers__WEBPACK_IMPORTED_MODULE_10__.Triggers\n]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,payload__WEBPACK_IMPORTED_MODULE_13__.buildConfig)({\n    admin: {\n        user: _collections_Users__WEBPACK_IMPORTED_MODULE_5__.Users.slug,\n        importMap: {\n            baseDir: path__WEBPACK_IMPORTED_MODULE_2___default().resolve(dirname)\n        }\n    },\n    collections: collectionsWithDynamicHooks,\n    editor: (0,_payloadcms_richtext_lexical__WEBPACK_IMPORTED_MODULE_14__.lexicalEditor)(),\n    secret: process.env.PAYLOAD_SECRET || '',\n    typescript: {\n        outputFile: path__WEBPACK_IMPORTED_MODULE_2___default().resolve(dirname, 'payload-types.ts')\n    },\n    db: (0,_payloadcms_db_mongodb__WEBPACK_IMPORTED_MODULE_0__.mongooseAdapter)({\n        url: process.env.DATABASE_URI || ''\n    }),\n    sharp: (sharp__WEBPACK_IMPORTED_MODULE_4___default()),\n    plugins: [\n        (0,_payloadcms_payload_cloud__WEBPACK_IMPORTED_MODULE_1__.payloadCloudPlugin)(),\n        (0,_plugins_dynamicTriggers__WEBPACK_IMPORTED_MODULE_11__.dynamicTriggersPlugin)()\n    ],\n    endpoints: [\n        {\n            path: '/reload-triggers',\n            method: 'post',\n            handler: async (req)=>{\n                try {\n                    const { reloadTriggers, getCurrentTriggers } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./lib/registerDynamicHooks */ \"(rsc)/./src/lib/registerDynamicHooks.ts\"));\n                    await reloadTriggers(req.payload);\n                    const triggers = getCurrentTriggers();\n                    return Response.json({\n                        success: true,\n                        count: triggers.length,\n                        triggers: triggers.map((t)=>({\n                                name: t.name,\n                                targetCollection: t.targetCollection,\n                                hookType: t.hookType\n                            }))\n                    });\n                } catch (error) {\n                    return Response.json({\n                        success: false,\n                        error: error.message\n                    }, {\n                        status: 500\n                    });\n                }\n            }\n        }\n    ]\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvcGF5bG9hZC5jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFDQUFxQztBQUNtQjtBQUNNO0FBQ0Y7QUFDckM7QUFDYztBQUNGO0FBQ1Y7QUFFa0I7QUFDQTtBQUNRO0FBQ0Y7QUFDSjtBQUNJO0FBQ2dCO0FBQ1M7QUFFMUUsTUFBTWUsV0FBV1Ysa0RBQWFBLENBQUMsd0ZBQWU7QUFDOUMsTUFBTVksVUFBVWQsbURBQVksQ0FBQ1k7QUFFN0IsZ0NBQWdDO0FBQ2hDLE1BQU1HLDhCQUE4QkoseUZBQStCQSxDQUFDO0lBQ2xFUCxxREFBS0E7SUFDTEMscURBQUtBO0lBQ0xDLDZEQUFTQTtJQUNUQywyREFBUUE7SUFDUkMsdURBQU1BO0lBQ05DLDREQUFRQTtDQUNUO0FBRUQsaUVBQWVSLHFEQUFXQSxDQUFDO0lBQ3pCZSxPQUFPO1FBQ0xDLE1BQU1iLHFEQUFLQSxDQUFDYyxJQUFJO1FBQ2hCQyxXQUFXO1lBQ1RDLFNBQVNwQixtREFBWSxDQUFDYztRQUN4QjtJQUNGO0lBQ0FRLGFBQWFQO0lBQ2JRLFFBQVF4Qiw0RUFBYUE7SUFDckJ5QixRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtJQUN0Q0MsWUFBWTtRQUNWQyxZQUFZN0IsbURBQVksQ0FBQ2MsU0FBUztJQUNwQztJQUNBZ0IsSUFBSWpDLHVFQUFlQSxDQUFDO1FBQ2xCZ0IsS0FBS1ksUUFBUUMsR0FBRyxDQUFDSyxZQUFZLElBQUk7SUFDbkM7SUFDQTVCLEtBQUtBLGdEQUFBQTtJQUNMNkIsU0FBUztRQUNQbEMsNkVBQWtCQTtRQUNsQlksZ0ZBQXFCQTtLQUV0QjtJQUNEdUIsV0FBVztRQUNUO1lBQ0VqQyxNQUFNO1lBQ05rQyxRQUFRO1lBQ1JDLFNBQVMsT0FBT0M7Z0JBQ2QsSUFBSTtvQkFDRixNQUFNLEVBQUVDLGNBQWMsRUFBRUMsa0JBQWtCLEVBQUUsR0FBRyxNQUFNLGlLQUFvQztvQkFDekYsTUFBTUQsZUFBZUQsSUFBSUcsT0FBTztvQkFDaEMsTUFBTUMsV0FBV0Y7b0JBRWpCLE9BQU9HLFNBQVNDLElBQUksQ0FBQzt3QkFDbkJDLFNBQVM7d0JBQ1RDLE9BQU9KLFNBQVNLLE1BQU07d0JBQ3RCTCxVQUFVQSxTQUFTTSxHQUFHLENBQUNDLENBQUFBLElBQU07Z0NBQzNCQyxNQUFNRCxFQUFFQyxJQUFJO2dDQUNaQyxrQkFBa0JGLEVBQUVFLGdCQUFnQjtnQ0FDcENDLFVBQVVILEVBQUVHLFFBQVE7NEJBQ3RCO29CQUNGO2dCQUNGLEVBQUUsT0FBT0MsT0FBWTtvQkFDbkIsT0FBT1YsU0FBU0MsSUFBSSxDQUFDO3dCQUFFQyxTQUFTO3dCQUFPUSxPQUFPQSxNQUFNQyxPQUFPO29CQUFDLEdBQUc7d0JBQUVDLFFBQVE7b0JBQUk7Z0JBQy9FO1lBQ0Y7UUFDRjtLQUNEO0FBQ0gsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL3BheWxvYWQuY29uZmlnLnRzPzMzY2IiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3RvcmFnZS1hZGFwdGVyLWltcG9ydC1wbGFjZWhvbGRlclxuaW1wb3J0IHsgbW9uZ29vc2VBZGFwdGVyIH0gZnJvbSAnQHBheWxvYWRjbXMvZGItbW9uZ29kYidcbmltcG9ydCB7IHBheWxvYWRDbG91ZFBsdWdpbiB9IGZyb20gJ0BwYXlsb2FkY21zL3BheWxvYWQtY2xvdWQnXG5pbXBvcnQgeyBsZXhpY2FsRWRpdG9yIH0gZnJvbSAnQHBheWxvYWRjbXMvcmljaHRleHQtbGV4aWNhbCdcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBidWlsZENvbmZpZyB9IGZyb20gJ3BheWxvYWQnXG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJ1xuaW1wb3J0IHNoYXJwIGZyb20gJ3NoYXJwJ1xuXG5pbXBvcnQgeyBVc2VycyB9IGZyb20gJy4vY29sbGVjdGlvbnMvVXNlcnMnXG5pbXBvcnQgeyBNZWRpYSB9IGZyb20gJy4vY29sbGVjdGlvbnMvTWVkaWEnXG5pbXBvcnQgeyBDdXN0b21lcnMgfSBmcm9tICcuL2NvbGxlY3Rpb25zL0N1c3RvbWVycydcbmltcG9ydCB7IFByb2R1Y3RzIH0gZnJvbSAnLi9jb2xsZWN0aW9ucy9Qcm9kdWN0cydcbmltcG9ydCB7IE9yZGVycyB9IGZyb20gJy4vY29sbGVjdGlvbnMvT3JkZXJzJ1xuaW1wb3J0IHsgVHJpZ2dlcnMgfSBmcm9tICcuL2NvbGxlY3Rpb25zL1RyaWdnZXJzJ1xuaW1wb3J0IHsgZHluYW1pY1RyaWdnZXJzUGx1Z2luIH0gZnJvbSAnLi9wbHVnaW5zL2R5bmFtaWNUcmlnZ2VycydcbmltcG9ydCB7IGFkZER5bmFtaWNUcmlnZ2Vyc1RvQ29sbGVjdGlvbnMgfSBmcm9tICcuL2xpYi9hZGREeW5hbWljVHJpZ2dlcnMnXG5cbmNvbnN0IGZpbGVuYW1lID0gZmlsZVVSTFRvUGF0aChpbXBvcnQubWV0YS51cmwpXG5jb25zdCBkaXJuYW1lID0gcGF0aC5kaXJuYW1lKGZpbGVuYW1lKVxuXG4vLyDngrrmiYDmnIkgY29sbGVjdGlvbnMg5re75Yqg5YuV5oWL6Ke455m85ZmoIGhvb2tzXG5jb25zdCBjb2xsZWN0aW9uc1dpdGhEeW5hbWljSG9va3MgPSBhZGREeW5hbWljVHJpZ2dlcnNUb0NvbGxlY3Rpb25zKFtcbiAgVXNlcnMsXG4gIE1lZGlhLFxuICBDdXN0b21lcnMsXG4gIFByb2R1Y3RzLFxuICBPcmRlcnMsXG4gIFRyaWdnZXJzLFxuXSlcblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRDb25maWcoe1xuICBhZG1pbjoge1xuICAgIHVzZXI6IFVzZXJzLnNsdWcsXG4gICAgaW1wb3J0TWFwOiB7XG4gICAgICBiYXNlRGlyOiBwYXRoLnJlc29sdmUoZGlybmFtZSksXG4gICAgfSxcbiAgfSxcbiAgY29sbGVjdGlvbnM6IGNvbGxlY3Rpb25zV2l0aER5bmFtaWNIb29rcyxcbiAgZWRpdG9yOiBsZXhpY2FsRWRpdG9yKCksXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuUEFZTE9BRF9TRUNSRVQgfHwgJycsXG4gIHR5cGVzY3JpcHQ6IHtcbiAgICBvdXRwdXRGaWxlOiBwYXRoLnJlc29sdmUoZGlybmFtZSwgJ3BheWxvYWQtdHlwZXMudHMnKSxcbiAgfSxcbiAgZGI6IG1vbmdvb3NlQWRhcHRlcih7XG4gICAgdXJsOiBwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkkgfHwgJycsXG4gIH0pLFxuICBzaGFycCxcbiAgcGx1Z2luczogW1xuICAgIHBheWxvYWRDbG91ZFBsdWdpbigpLFxuICAgIGR5bmFtaWNUcmlnZ2Vyc1BsdWdpbigpLFxuICAgIC8vIHN0b3JhZ2UtYWRhcHRlci1wbGFjZWhvbGRlclxuICBdLFxuICBlbmRwb2ludHM6IFtcbiAgICB7XG4gICAgICBwYXRoOiAnL3JlbG9hZC10cmlnZ2VycycsXG4gICAgICBtZXRob2Q6ICdwb3N0JyxcbiAgICAgIGhhbmRsZXI6IGFzeW5jIChyZXEpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB7IHJlbG9hZFRyaWdnZXJzLCBnZXRDdXJyZW50VHJpZ2dlcnMgfSA9IGF3YWl0IGltcG9ydCgnLi9saWIvcmVnaXN0ZXJEeW5hbWljSG9va3MnKVxuICAgICAgICAgIGF3YWl0IHJlbG9hZFRyaWdnZXJzKHJlcS5wYXlsb2FkKVxuICAgICAgICAgIGNvbnN0IHRyaWdnZXJzID0gZ2V0Q3VycmVudFRyaWdnZXJzKClcblxuICAgICAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICBjb3VudDogdHJpZ2dlcnMubGVuZ3RoLFxuICAgICAgICAgICAgdHJpZ2dlcnM6IHRyaWdnZXJzLm1hcCh0ID0+ICh7XG4gICAgICAgICAgICAgIG5hbWU6IHQubmFtZSxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29sbGVjdGlvbjogdC50YXJnZXRDb2xsZWN0aW9uLFxuICAgICAgICAgICAgICBob29rVHlwZTogdC5ob29rVHlwZSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LCB7IHN0YXR1czogNTAwIH0pXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSxcbiAgXSxcbn0pXG4iXSwibmFtZXMiOlsibW9uZ29vc2VBZGFwdGVyIiwicGF5bG9hZENsb3VkUGx1Z2luIiwibGV4aWNhbEVkaXRvciIsInBhdGgiLCJidWlsZENvbmZpZyIsImZpbGVVUkxUb1BhdGgiLCJzaGFycCIsIlVzZXJzIiwiTWVkaWEiLCJDdXN0b21lcnMiLCJQcm9kdWN0cyIsIk9yZGVycyIsIlRyaWdnZXJzIiwiZHluYW1pY1RyaWdnZXJzUGx1Z2luIiwiYWRkRHluYW1pY1RyaWdnZXJzVG9Db2xsZWN0aW9ucyIsImZpbGVuYW1lIiwidXJsIiwiZGlybmFtZSIsImNvbGxlY3Rpb25zV2l0aER5bmFtaWNIb29rcyIsImFkbWluIiwidXNlciIsInNsdWciLCJpbXBvcnRNYXAiLCJiYXNlRGlyIiwicmVzb2x2ZSIsImNvbGxlY3Rpb25zIiwiZWRpdG9yIiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIlBBWUxPQURfU0VDUkVUIiwidHlwZXNjcmlwdCIsIm91dHB1dEZpbGUiLCJkYiIsIkRBVEFCQVNFX1VSSSIsInBsdWdpbnMiLCJlbmRwb2ludHMiLCJtZXRob2QiLCJoYW5kbGVyIiwicmVxIiwicmVsb2FkVHJpZ2dlcnMiLCJnZXRDdXJyZW50VHJpZ2dlcnMiLCJwYXlsb2FkIiwidHJpZ2dlcnMiLCJSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwiY291bnQiLCJsZW5ndGgiLCJtYXAiLCJ0IiwibmFtZSIsInRhcmdldENvbGxlY3Rpb24iLCJob29rVHlwZSIsImVycm9yIiwibWVzc2FnZSIsInN0YXR1cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/payload.config.ts\n");

/***/ }),

/***/ "(rsc)/./src/plugins/dynamicTriggers.ts":
/*!****************************************!*\
  !*** ./src/plugins/dynamicTriggers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dynamicTriggersPlugin: () => (/* binding */ dynamicTriggersPlugin)\n/* harmony export */ });\n/**\r\n * Dynamic Triggers Plugin\r\n */ const dynamicTriggersPlugin = ()=>(incomingConfig)=>{\n        return {\n            ...incomingConfig,\n            onInit: async (payload)=>{\n                try {\n                    // 呼叫原始的 onInit (如果有的話)\n                    if (incomingConfig.onInit) {\n                        await incomingConfig.onInit(payload);\n                    }\n                    // 載入並顯示觸發器 - 傳入 payload 實例\n                    const { reloadTriggers } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ../lib/registerDynamicHooks */ \"(rsc)/./src/lib/registerDynamicHooks.ts\"));\n                    await reloadTriggers(payload);\n                } catch (error) {\n                    console.error('[Dynamic Triggers] ✗ onInit 執行失敗:', error);\n                }\n            }\n        };\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvcGx1Z2lucy9keW5hbWljVHJpZ2dlcnMudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBOztDQUVDLEdBQ00sTUFBTUEsd0JBQXdCLElBQU0sQ0FBQ0M7UUFHeEMsT0FBTztZQUNILEdBQUdBLGNBQWM7WUFDakJDLFFBQVEsT0FBT0M7Z0JBR1gsSUFBSTtvQkFDQSx1QkFBdUI7b0JBQ3ZCLElBQUlGLGVBQWVDLE1BQU0sRUFBRTt3QkFFdkIsTUFBTUQsZUFBZUMsTUFBTSxDQUFDQztvQkFDaEM7b0JBSUEsMkJBQTJCO29CQUMzQixNQUFNLEVBQUVDLGNBQWMsRUFBRSxHQUFHLE1BQU0sa0tBQXFDO29CQUV0RSxNQUFNQSxlQUFlRDtnQkFFekIsRUFBRSxPQUFPRSxPQUFPO29CQUNaQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtnQkFDdkQ7WUFDSjtRQUNKO0lBQ0osRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL29yZGVyLW1hbmFnZW1lbnQtc3lzdGVtLy4vc3JjL3BsdWdpbnMvZHluYW1pY1RyaWdnZXJzLnRzPzUxMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb25maWcgfSBmcm9tICdwYXlsb2FkJ1xyXG5cclxuLyoqXHJcbiAqIER5bmFtaWMgVHJpZ2dlcnMgUGx1Z2luXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZHluYW1pY1RyaWdnZXJzUGx1Z2luID0gKCkgPT4gKGluY29taW5nQ29uZmlnOiBDb25maWcpOiBDb25maWcgPT4ge1xyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLmluY29taW5nQ29uZmlnLFxyXG4gICAgICAgIG9uSW5pdDogYXN5bmMgKHBheWxvYWQpID0+IHtcclxuXHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgLy8g5ZG85Y+r5Y6f5aeL55qEIG9uSW5pdCAo5aaC5p6c5pyJ55qE6KmxKVxyXG4gICAgICAgICAgICAgICAgaWYgKGluY29taW5nQ29uZmlnLm9uSW5pdCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbmNvbWluZ0NvbmZpZy5vbkluaXQocGF5bG9hZClcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8vIOi8ieWFpeS4pumhr+ekuuinuOeZvOWZqCAtIOWCs+WFpSBwYXlsb2FkIOWvpuS+i1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyByZWxvYWRUcmlnZ2VycyB9ID0gYXdhaXQgaW1wb3J0KCcuLi9saWIvcmVnaXN0ZXJEeW5hbWljSG9va3MnKVxyXG5cclxuICAgICAgICAgICAgICAgIGF3YWl0IHJlbG9hZFRyaWdnZXJzKHBheWxvYWQpXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignW0R5bmFtaWMgVHJpZ2dlcnNdIOKclyBvbkluaXQg5Z+36KGM5aSx5pWXOicsIGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZHluYW1pY1RyaWdnZXJzUGx1Z2luIiwiaW5jb21pbmdDb25maWciLCJvbkluaXQiLCJwYXlsb2FkIiwicmVsb2FkVHJpZ2dlcnMiLCJlcnJvciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/plugins/dynamicTriggers.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/date-fns","vendor-chunks/@smithy","vendor-chunks/@aws-sdk","vendor-chunks/@payloadcms","vendor-chunks/next","vendor-chunks/payload","vendor-chunks/nodemailer","vendor-chunks/@lexical","vendor-chunks/lexical","vendor-chunks/node-fetch","vendor-chunks/amazon-cognito-identity-js","vendor-chunks/prompts","vendor-chunks/ws","vendor-chunks/prismjs","vendor-chunks/qs-esm","vendor-chunks/jose","vendor-chunks/fast-uri","vendor-chunks/file-type","vendor-chunks/image-size","vendor-chunks/http-status","vendor-chunks/console-table-printer","vendor-chunks/mongoose-paginate-v2","vendor-chunks/bson-objectid","vendor-chunks/path-to-regexp","vendor-chunks/dataloader","vendor-chunks/strtok3","vendor-chunks/pluralize","vendor-chunks/simple-wcswidth","vendor-chunks/token-types","vendor-chunks/mongoose-aggregate-paginate-v2","vendor-chunks/uint8array-extras","vendor-chunks/ci-info","vendor-chunks/peek-readable","vendor-chunks/@borewit","vendor-chunks/queue","vendor-chunks/deepmerge","vendor-chunks/js-cookie","vendor-chunks/@aws","vendor-chunks/uuid","vendor-chunks/kleur","vendor-chunks/fast-deep-equal","vendor-chunks/ieee754","vendor-chunks/resolve-pkg-maps","vendor-chunks/sanitize-filename","vendor-chunks/escape-html","vendor-chunks/sisteransi","vendor-chunks/scmp","vendor-chunks/truncate-utf8-bytes","vendor-chunks/inherits","vendor-chunks/unfetch","vendor-chunks/isomorphic-unfetch","vendor-chunks/graphql-scalars","vendor-chunks/xss","vendor-chunks/cssfilter","vendor-chunks/busboy","vendor-chunks/graphql-http","vendor-chunks/graphql-playground-html","vendor-chunks/streamsearch"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&page=%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2F(payload)%2Fapi%2F%5B...slug%5D%2Froute.ts&appDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Canthony%5CDesktop%5Cpayload%5Corder-management-system&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();